{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/gl-matrix/esm/common.js","webpack:///./node_modules/gl-matrix/esm/mat2.js","webpack:///./node_modules/gl-matrix/esm/mat2d.js","webpack:///./node_modules/gl-matrix/esm/mat3.js","webpack:///./node_modules/gl-matrix/esm/mat4.js","webpack:///./node_modules/gl-matrix/esm/vec3.js","webpack:///./node_modules/gl-matrix/esm/vec4.js","webpack:///./node_modules/gl-matrix/esm/quat.js","webpack:///./node_modules/gl-matrix/esm/quat2.js","webpack:///./node_modules/gl-matrix/esm/vec2.js","webpack:///./node_modules/gl-matrix/esm/index.js","webpack:///./src/utils/grid.ts","webpack:///./src/shaders/index.ts","webpack:///./node_modules/lodash/_Symbol.js","webpack:///./src/webgl/bufferRenderer.ts","webpack:///./src/webgl/transform.ts","webpack:///./src/caveGenerator/index.ts","webpack:///./src/utils/prng.ts","webpack:///./src/caveGenerator/findContours.ts","webpack:///./src/utils/math.ts","webpack:///./src/webgl/caveRenderer.ts","webpack:///./node_modules/lodash/isObjectLike.js","webpack:///./src/webgl/frameBufferTexture.ts","webpack:///./src/webgl/textureLoader.ts","webpack:///./src/index.ts","webpack:///./src/pages/vector-caves.ts","webpack:///./src/caveGenerator/automaton.ts","webpack:///./src/caveGenerator/smoothCurve.ts","webpack:///./src/caveGenerator/triangulate.ts","webpack:///./node_modules/lodash/flatten.js","webpack:///./node_modules/lodash/_baseFlatten.js","webpack:///./node_modules/lodash/_arrayPush.js","webpack:///./node_modules/lodash/_isFlattenable.js","webpack:///./node_modules/lodash/_root.js","webpack:///./node_modules/lodash/_freeGlobal.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/lodash/isArguments.js","webpack:///./node_modules/lodash/_baseIsArguments.js","webpack:///./node_modules/lodash/_baseGetTag.js","webpack:///./node_modules/lodash/_getRawTag.js","webpack:///./node_modules/lodash/_objectToString.js","webpack:///./node_modules/lodash/isArray.js","webpack:///./src/shaders/bufferCopy.glsl","webpack:///./src/shaders/cave.glsl","webpack:///./src/shaders/caveDemo.glsl","webpack:///./src/shaders/flatWhite.glsl","webpack:///./src/shaders/gaussianBlur.glsl","webpack:///./src/shaders/normals.glsl","webpack:///./src/shaders/ship.glsl","webpack:///./src/webgl/gaussianBlur.ts","webpack:///./src/pages/game.ts","webpack:///./src/webgl/shipRenderer.ts","webpack:///./src/webgl/camera.ts","webpack:///./src/utils/inputGrabber.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","EPSILON","ARRAY_TYPE","Float32Array","Array","RANDOM","Math","random","setMatrixArrayType","type","degree","PI","toRadian","a","equals","b","abs","max","out","clone","copy","identity","fromValues","m00","m01","m10","m11","set","transpose","a1","invert","a0","a2","a3","det","adjoint","determinant","multiply","b0","b1","b2","b3","rotate","rad","sin","cos","mat2_scale","v","v0","v1","fromRotation","fromScaling","str","frob","sqrt","pow","LDU","L","D","U","add","subtract","exactEquals","mat2_equals","multiplyScalar","multiplyScalarAndAdd","scale","mul","sub","mat2d_create","mat2d_clone","mat2d_copy","mat2d_identity","mat2d_fromValues","tx","ty","mat2d_set","mat2d_invert","aa","ab","ac","ad","atx","aty","mat2d_determinant","mat2d_multiply","a4","a5","b4","b5","mat2d_rotate","mat2d_scale","translate","mat2d_fromRotation","mat2d_fromScaling","fromTranslation","mat2d_str","mat2d_frob","mat2d_add","mat2d_subtract","mat2d_multiplyScalar","mat2d_multiplyScalarAndAdd","mat2d_exactEquals","mat2d_equals","mat2d_mul","mat2d_sub","mat3_create","fromMat4","mat3_clone","mat3_copy","mat3_fromValues","m02","m12","m20","m21","m22","mat3_set","mat3_identity","mat3_transpose","a01","a02","a12","mat3_invert","a00","a10","a11","a20","a21","a22","b01","b11","b21","mat3_adjoint","mat3_determinant","mat3_multiply","b00","b02","b10","b12","b20","b22","mat3_translate","x","y","mat3_rotate","mat3_scale","mat3_fromTranslation","mat3_fromRotation","mat3_fromScaling","fromMat2d","fromQuat","q","z","w","x2","y2","z2","xx","yx","yy","zx","zy","zz","wx","wy","wz","normalFromMat4","a03","a13","a23","a30","a31","a32","a33","b03","b04","b05","b06","b07","b08","b09","projection","width","height","mat3_str","mat3_frob","mat3_add","mat3_subtract","mat3_multiplyScalar","mat3_multiplyScalarAndAdd","mat3_exactEquals","mat3_equals","a6","a7","a8","b6","b7","b8","mat3_mul","mat3_sub","mat4_create","mat4_clone","mat4_copy","mat4_fromValues","m03","m13","m23","m30","m31","m32","m33","mat4_set","mat4_identity","mat4_transpose","mat4_invert","mat4_adjoint","mat4_determinant","mat4_multiply","mat4_translate","mat4_scale","mat4_rotate","axis","len","rotateX","rotateY","rotateZ","mat4_fromTranslation","mat4_fromScaling","mat4_fromRotation","fromXRotation","fromYRotation","fromZRotation","fromRotationTranslation","xy","xz","yz","fromQuat2","translation","bx","by","bz","bw","ax","ay","az","aw","magnitude","getTranslation","mat","getScaling","getRotation","trace","S","fromRotationTranslationScale","sx","sy","sz","fromRotationTranslationScaleOrigin","ox","oy","oz","out0","out1","out2","out4","out5","out6","out8","out9","out10","mat4_fromQuat","frustum","left","right","bottom","top","near","far","rl","tb","nf","perspective","fovy","aspect","f","tan","Infinity","perspectiveFromFieldOfView","fov","upTan","upDegrees","downTan","downDegrees","leftTan","leftDegrees","rightTan","rightDegrees","xScale","yScale","ortho","lr","bt","lookAt","eye","center","up","x0","x1","y0","y1","z0","z1","eyex","eyey","eyez","upx","upy","upz","centerx","centery","centerz","targetTo","target","mat4_str","mat4_frob","mat4_add","mat4_subtract","mat4_multiplyScalar","mat4_multiplyScalarAndAdd","mat4_exactEquals","mat4_equals","a9","a14","a15","b9","b13","b14","b15","mat4_mul","mat4_sub","vec3_create","vec3_clone","vec3_length","vec3_fromValues","vec3_copy","vec3_set","vec3_add","vec3_subtract","vec3_multiply","divide","ceil","floor","min","round","vec3_scale","scaleAndAdd","distance","squaredDistance","squaredLength","negate","inverse","normalize","vec3_dot","cross","lerp","hermite","factorTimes2","factor1","factor2","factor3","factor4","bezier","inverseFactor","inverseFactorTimesTwo","zScale","transformMat4","transformMat3","transformQuat","qx","qy","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","vec3_rotateX","vec3_rotateY","vec3_rotateZ","angle","tempA","tempB","cosine","acos","zero","vec3_str","vec3_exactEquals","vec3_equals","vec","vec3_sub","vec3_mul","div","dist","sqrDist","vec3_len","sqrLen","forEach","stride","offset","count","fn","arg","length","vec4_create","vec4_clone","vec4_fromValues","vec4_copy","vec4_set","vec4_add","vec4_subtract","vec4_multiply","vec4_divide","vec4_ceil","vec4_floor","vec4_min","vec4_max","vec4_round","vec4_scale","vec4_scaleAndAdd","vec4_distance","vec4_squaredDistance","vec4_length","vec4_squaredLength","vec4_negate","vec4_inverse","vec4_normalize","vec4_dot","vec4_cross","u","A","B","C","E","F","G","H","I","J","vec4_lerp","vec4_random","v2","v3","v4","s1","s2","vec4_transformMat4","vec4_transformQuat","ix","iy","iz","iw","vec4_zero","vec4_str","vec4_exactEquals","vec4_equals","vec4_sub","vec4_mul","vec4_div","vec4_dist","vec4_sqrDist","vec4_len","vec4_sqrLen","vec4_forEach","quat_create","quat_identity","setAxisAngle","getAxisAngle","out_axis","quat_multiply","quat_rotateX","quat_rotateY","quat_rotateZ","calculateW","slerp","omega","cosom","sinom","scale0","scale1","quat_random","u1","u2","u3","sqrt1MinusU1","sqrtU1","quat_invert","dot","invDot","conjugate","fromMat3","fRoot","fTrace","j","k","fromEuler","halfToRad","cx","cy","cz","quat_str","tmpvec3","xUnitVec3","yUnitVec3","temp1","temp2","matr","quat_clone","quat_fromValues","quat_copy","quat_set","quat_add","quat_mul","quat_scale","quat_dot","quat_lerp","quat_length","quat_len","quat_squaredLength","quat_sqrLen","quat_normalize","quat_exactEquals","quat_equals","rotationTo","sqlerp","setAxes","view","quat2_create","dq","quat2_clone","quat2_fromValues","w1","fromRotationTranslationValues","quat2_fromRotationTranslation","quat2_fromTranslation","quat2_fromRotation","quat2_fromMat4","outer","quat2_copy","quat2_identity","quat2_set","getReal","getDual","setReal","setDual","quat2_getTranslation","quat2_translate","ax1","ay1","az1","aw1","bx1","by1","bz1","ax2","ay2","az2","aw2","quat2_rotateX","quat2_rotateY","quat2_rotateZ","rotateByQuatAppend","rotateByQuatPrepend","rotateAroundAxis","axisLength","quat2_add","quat2_multiply","ax0","ay0","az0","aw0","bw1","bx0","by0","bz0","bw0","quat2_mul","quat2_scale","quat2_dot","quat2_lerp","mt","quat2_invert","sqlen","quat2_squaredLength","quat2_conjugate","quat2_length","quat2_len","quat2_sqrLen","quat2_normalize","a_dot_b","quat2_str","quat2_exactEquals","quat2_equals","vec2_create","vec2_clone","vec2_fromValues","vec2_copy","vec2_set","vec2_add","vec2_subtract","vec2_multiply","vec2_divide","vec2_ceil","vec2_floor","vec2_min","vec2_max","vec2_round","vec2_scale","vec2_scaleAndAdd","vec2_distance","vec2_squaredDistance","vec2_length","vec2_squaredLength","vec2_negate","vec2_inverse","vec2_normalize","vec2_dot","vec2_cross","vec2_lerp","vec2_random","transformMat2","transformMat2d","vec2_transformMat3","vec2_transformMat4","vec2_rotate","p0","p1","sinC","cosC","vec2_angle","len1","len2","vec2_zero","vec2_str","vec2_exactEquals","vec2_equals","vec2_len","vec2_sub","vec2_mul","vec2_div","vec2_dist","vec2_sqrDist","vec2_sqrLen","vec2_forEach","__webpack_exports__","common_namespaceObject","mat2_namespaceObject","mat2d_namespaceObject","mat3_namespaceObject","mat4_namespaceObject","quat_namespaceObject","quat2_namespaceObject","vec2_namespaceObject","vec3_namespaceObject","vec4_namespaceObject","WriteGrid","this","vals","write","val","at","copyFrom","grid","safeOutOfBounds","oobValue","Grid","find","test","map","result","bufferCopy","cave","caveDemo","flatWhite","gaussianBlur","normals","ship","compiledShaders","getShaders","gl","canvas","id","compileShader","buildCollection","errorHTML","kind","log","replace","body","vertShader","createShader","VERTEX_SHADER","shaderSource","vertLog","getShaderInfoLog","document","innerHTML","Error","fragShader","FRAGMENT_SHADER","fragLog","prog","createProgram","attachShader","linkProgram","BufferRenderer","shader","vertexBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","draw","texture","onPreDraw","useProgram","activeTexture","TEXTURE0","bindTexture","TEXTURE_2D","loc_tex","getUniformLocation","uniform1i","posLoc","getAttribLocation","enableVertexAttribArray","vertexAttribPointer","FLOAT","drawArrays","TRIANGLES","release","deleteBuffer","gl_matrix_1","Transform","position","vec3","rotation","quat","toMatrix","self","mat4","grid_1","automaton_1","findContours_1","smoothCurve_1","math_1","triangulate_1","floodFill","tile","generateCave","seed","generateCaveVerbose","generatePartialAutomatonResult","generation","runCellularAutomaton","automatonResult","coloredGrid","bigColor","color","largestColor","largestRegion","pos","size","colorGridRegions","filledGrid","edgeMarkedGrid","markEdges","findContoursResult","findContours","outerMostContourIndex","contours","area","RectTool","findBounds","sort","smoothContours","smoothCurve","topLeftPtI","topLeftPt","topLeftPrevPt","bumpDownAmount","splice","vec2","triangles","triangulate","edges","details","topLeftMostVertexIndex","M","PRNG","getRandomSeed","next","MAX_SEED","WalkedStatus","normal","spaceInsurance","walkMap","_","Unwalked","iter","newContour","findOneContour","push","bestCandidate","prev","candidates","minVal","minI","smallestDifferenceRadians","freshStart","findFreshContour","points","lastCan","dx","dy","lastStatus","Walked","newStatus","WalkedImportant","xmax","xmin","ymax","ymin","pts","flatten","shaders_1","bufferRenderer_1","gaussianBlur_1","frameBufferTexture_1","camera_1","getFlatVerts","getFlatIndices","baseCount","tris","index","concat","reverse","mxa","mxb","CaveRenderer","normalsTexture","indexBufferData","indexBufferLen","indexBuffer","ELEMENT_ARRAY_BUFFER","Uint16Array","_surfaceInfoBuffers","buildSurfaceInfoBuffers","SURFACE_INFO_BUFFER_SIZE","normalsBlit","gaussBlur0","GaussianBlur","gaussBlur1","frameBufferTex","FrameBufferTexture","flatWhiteShader","bindFramebuffer","FRAMEBUFFER","framebuffer","viewport","clearColor","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","drawElements","UNSIGNED_SHORT","run","resultTexture","uniform2f","depth","releaseTexture","drawDemo","zoom","uniform1f","TEXTURE1","TEXTURE2","camera","shipWorldPos","CAVE_SCALE","uniformMatrix4fv","Camera","getViewMatrix","getProjectionMatrix","uniform3fv","CAVE_SIZE","createFramebuffer","createTexture","texImage2D","RGB","UNSIGNED_BYTE","texParameteri","TEXTURE_MIN_FILTER","LINEAR","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","framebufferTexture2D","COLOR_ATTACHMENT0","deleteTexture","deleteFramebuffer","loadTexture","url","glWrapMode","Promise","resolve","reject","image","Image","onload","RGBA","wrapMode","src","vector_caves_1","game_1","postInitters","vector-caves","initPost","window","initGame","caveGenerator_1","caveRenderer_1","textureLoader_1","prng_1","drawInfoBufferDemo","infoBuffers","surfaceInfoBuffers","copyBlit","randomColorHex","randPair","ret","toString","colors","events","listener","caveCache","genSlider","getElementById","ctx0","getContext","ctx","ctx2","ctx3","ctx4","ctx5","ctx6","ctx7","ctx9","updatePartialAutomatonResult","parseFloat","fillStyle","fillRect","update","_a","degs","hx","hy","gridColorForNormal","curveSpaceToCanvasSpace","pt","strokeStyle","beginPath","first","moveTo","i_1","lineTo","closePath","stroke","i_2","ts","fill","e","onclick","mousePos","mouseDown","zoomT","onmousemove","rect","getBoundingClientRect","console","clientX","clientY","onmousedown","onmouseleave","onmouseout","onmouseup","REPEAT","then","normTex","caveRenderer","startTime","Date","now","render","requestAnimationFrame","drawDetailedCaveDemo","getNeighborhood","nx","ny","population","birth","survival","iterations","buffer","rng","neighbors","input","resolution","curviness","curr","lenA","lenB","midA","midB","midDiff","diffA","diffB","controlA","controlB","inc","newVal","indices","V","nv","snip","inside_triangle","P","apx","apy","bpx","bpy","cpx","cpy","baseFlatten","array","arrayPush","isFlattenable","predicate","isStrict","values","isArguments","isArray","spreadableSymbol","isConcatSpreadable","undefined","freeGlobal","freeSelf","root","Function","global","g","baseIsArguments","isObjectLike","objectProto","propertyIsEnumerable","arguments","baseGetTag","argsTag","getRawTag","objectToString","nullTag","undefinedTag","symToStringTag","nativeObjectToString","isOwn","tag","unmasked","bufferRenderer","frameTex0","frameTex1","_this","shipRenderer_1","transform_1","inputGrabber_1","v3a","all","caveTexture","loadResources","resources","inputs","InputGrabber","shipRenderer","ShipRenderer","shipTransform","transform","mouseWorldPos","screenPointToWorldXYPlanePoint","mouseScreenPoint","atan2","onResize","innerWidth","innerHeight","updateAspectRatio","addEventListener","verts","v4a","vec4","v3b","v3c","aspectRatio","screenWidth","screenHeight","screenPoint","_mouseDown","onMouseMove","onMouseDown","onMouseButtonNegative","onWindowChange","canvasBoundingRect"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 14);\n","/**\r\n * Common utilities\r\n * @module glMatrix\r\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\r\n * Sets the type of array used when creating new vectors and matrices\r\n *\r\n * @param {Type} type Array type, such as Float32Array or Array\r\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\r\n * Convert Degree To Radian\r\n *\r\n * @param {Number} a Angle in Degrees\r\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\r\n * Tests whether or not the arguments have approximately the same value, within an absolute\r\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r\n * than or equal to 1.0, and a relative tolerance is used for larger values)\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}","import * as glMatrix from \"./common.js\";\n/**\r\n * 2x2 Matrix\r\n * @module mat2\r\n */\n\n/**\r\n * Creates a new identity mat2\r\n *\r\n * @returns {mat2} a new 2x2 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[0] = 1;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat2 initialized with values from an existing matrix\r\n *\r\n * @param {mat2} a matrix to clone\r\n * @returns {mat2} a new 2x2 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Copy the values from one mat2 to another\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set a mat2 to the identity matrix\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @returns {mat2} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Create a new mat2 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\r\n * @returns {mat2} out A new 2x2 matrix\r\n */\n\nexport function fromValues(m00, m01, m10, m11) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n/**\r\n * Set the components of a mat2 to the given values\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\r\n * @returns {mat2} out\r\n */\n\nexport function set(out, m00, m01, m10, m11) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n/**\r\n * Transpose the values of a mat2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache\n  // some values\n  if (out === a) {\n    var a1 = a[1];\n    out[1] = a[2];\n    out[2] = a1;\n  } else {\n    out[0] = a[0];\n    out[1] = a[2];\n    out[2] = a[1];\n    out[3] = a[3];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3]; // Calculate the determinant\n\n  var det = a0 * a3 - a2 * a1;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = a3 * det;\n  out[1] = -a1 * det;\n  out[2] = -a2 * det;\n  out[3] = a0 * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nexport function adjoint(out, a) {\n  // Caching this value is nessecary if out == a\n  var a0 = a[0];\n  out[0] = a[3];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a0;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat2\r\n *\r\n * @param {mat2} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  return a[0] * a[3] - a[2] * a[1];\n}\n/**\r\n * Multiplies two mat2's\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the first operand\r\n * @param {mat2} b the second operand\r\n * @returns {mat2} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  return out;\n}\n/**\r\n * Rotates a mat2 by the given angle\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2} out\r\n */\n\nexport function rotate(out, a, rad) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = a0 * c + a2 * s;\n  out[1] = a1 * c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  return out;\n}\n/**\r\n * Scales the mat2 by the dimensions in the given vec2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the matrix to rotate\r\n * @param {vec2} v the vec2 to scale the matrix by\r\n * @returns {mat2} out\r\n **/\n\nexport function scale(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2.identity(dest);\r\n *     mat2.rotate(dest, dest, rad);\r\n *\r\n * @param {mat2} out mat2 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2} out\r\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2.identity(dest);\r\n *     mat2.scale(dest, dest, vec);\r\n *\r\n * @param {mat2} out mat2 receiving operation result\r\n * @param {vec2} v Scaling vector\r\n * @returns {mat2} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  return out;\n}\n/**\r\n * Returns a string representation of a mat2\r\n *\r\n * @param {mat2} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return 'mat2(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n}\n/**\r\n * Returns Frobenius norm of a mat2\r\n *\r\n * @param {mat2} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2));\n}\n/**\r\n * Returns L, D and U matrices (Lower triangular, Diagonal and Upper triangular) by factorizing the input matrix\r\n * @param {mat2} L the lower triangular matrix\r\n * @param {mat2} D the diagonal matrix\r\n * @param {mat2} U the upper triangular matrix\r\n * @param {mat2} a the input matrix to factorize\r\n */\n\nexport function LDU(L, D, U, a) {\n  L[2] = a[2] / a[0];\n  U[0] = a[0];\n  U[1] = a[1];\n  U[3] = a[3] - L[2] * U[1];\n  return [L, D, U];\n}\n/**\r\n * Adds two mat2's\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the first operand\r\n * @param {mat2} b the second operand\r\n * @returns {mat2} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the first operand\r\n * @param {mat2} b the second operand\r\n * @returns {mat2} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {mat2} a The first matrix.\r\n * @param {mat2} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {mat2} a The first matrix.\r\n * @param {mat2} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat2} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\r\n * Adds two mat2's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat2} out the receiving vector\r\n * @param {mat2} a the first operand\r\n * @param {mat2} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat2} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\r\n * Alias for {@link mat2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat2.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 2x3 Matrix\r\n * @module mat2d\r\n *\r\n * @description\r\n * A mat2d contains six elements defined as:\r\n * <pre>\r\n * [a, c, tx,\r\n *  b, d, ty]\r\n * </pre>\r\n * This is a short form for the 3x3 matrix:\r\n * <pre>\r\n * [a, c, tx,\r\n *  b, d, ty,\r\n *  0, 0, 1]\r\n * </pre>\r\n * The last row is ignored so the array is shorter and operations are faster.\r\n */\n\n/**\r\n * Creates a new identity mat2d\r\n *\r\n * @returns {mat2d} a new 2x3 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(6);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[4] = 0;\n    out[5] = 0;\n  }\n\n  out[0] = 1;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat2d initialized with values from an existing matrix\r\n *\r\n * @param {mat2d} a matrix to clone\r\n * @returns {mat2d} a new 2x3 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(6);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n/**\r\n * Copy the values from one mat2d to another\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the source matrix\r\n * @returns {mat2d} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n/**\r\n * Set a mat2d to the identity matrix\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @returns {mat2d} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\r\n * Create a new mat2d with the given values\r\n *\r\n * @param {Number} a Component A (index 0)\r\n * @param {Number} b Component B (index 1)\r\n * @param {Number} c Component C (index 2)\r\n * @param {Number} d Component D (index 3)\r\n * @param {Number} tx Component TX (index 4)\r\n * @param {Number} ty Component TY (index 5)\r\n * @returns {mat2d} A new mat2d\r\n */\n\nexport function fromValues(a, b, c, d, tx, ty) {\n  var out = new glMatrix.ARRAY_TYPE(6);\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n/**\r\n * Set the components of a mat2d to the given values\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {Number} a Component A (index 0)\r\n * @param {Number} b Component B (index 1)\r\n * @param {Number} c Component C (index 2)\r\n * @param {Number} d Component D (index 3)\r\n * @param {Number} tx Component TX (index 4)\r\n * @param {Number} ty Component TY (index 5)\r\n * @returns {mat2d} out\r\n */\n\nexport function set(out, a, b, c, d, tx, ty) {\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n/**\r\n * Inverts a mat2d\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the source matrix\r\n * @returns {mat2d} out\r\n */\n\nexport function invert(out, a) {\n  var aa = a[0],\n      ab = a[1],\n      ac = a[2],\n      ad = a[3];\n  var atx = a[4],\n      aty = a[5];\n  var det = aa * ad - ab * ac;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = ad * det;\n  out[1] = -ab * det;\n  out[2] = -ac * det;\n  out[3] = aa * det;\n  out[4] = (ac * aty - ad * atx) * det;\n  out[5] = (ab * atx - aa * aty) * det;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat2d\r\n *\r\n * @param {mat2d} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  return a[0] * a[3] - a[1] * a[2];\n}\n/**\r\n * Multiplies two mat2d's\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the first operand\r\n * @param {mat2d} b the second operand\r\n * @returns {mat2d} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  out[4] = a0 * b4 + a2 * b5 + a4;\n  out[5] = a1 * b4 + a3 * b5 + a5;\n  return out;\n}\n/**\r\n * Rotates a mat2d by the given angle\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2d} out\r\n */\n\nexport function rotate(out, a, rad) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = a0 * c + a2 * s;\n  out[1] = a1 * c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n/**\r\n * Scales the mat2d by the dimensions in the given vec2\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the matrix to translate\r\n * @param {vec2} v the vec2 to scale the matrix by\r\n * @returns {mat2d} out\r\n **/\n\nexport function scale(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n/**\r\n * Translates the mat2d by the dimensions in the given vec2\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the matrix to translate\r\n * @param {vec2} v the vec2 to translate the matrix by\r\n * @returns {mat2d} out\r\n **/\n\nexport function translate(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0;\n  out[1] = a1;\n  out[2] = a2;\n  out[3] = a3;\n  out[4] = a0 * v0 + a2 * v1 + a4;\n  out[5] = a1 * v0 + a3 * v1 + a5;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2d.identity(dest);\r\n *     mat2d.rotate(dest, dest, rad);\r\n *\r\n * @param {mat2d} out mat2d receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2d} out\r\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2d.identity(dest);\r\n *     mat2d.scale(dest, dest, vec);\r\n *\r\n * @param {mat2d} out mat2d receiving operation result\r\n * @param {vec2} v Scaling vector\r\n * @returns {mat2d} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2d.identity(dest);\r\n *     mat2d.translate(dest, dest, vec);\r\n *\r\n * @param {mat2d} out mat2d receiving operation result\r\n * @param {vec2} v Translation vector\r\n * @returns {mat2d} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = v[0];\n  out[5] = v[1];\n  return out;\n}\n/**\r\n * Returns a string representation of a mat2d\r\n *\r\n * @param {mat2d} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return 'mat2d(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ')';\n}\n/**\r\n * Returns Frobenius norm of a mat2d\r\n *\r\n * @param {mat2d} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + 1);\n}\n/**\r\n * Adds two mat2d's\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the first operand\r\n * @param {mat2d} b the second operand\r\n * @returns {mat2d} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the first operand\r\n * @param {mat2d} b the second operand\r\n * @returns {mat2d} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat2d} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  return out;\n}\n/**\r\n * Adds two mat2d's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat2d} out the receiving vector\r\n * @param {mat2d} a the first operand\r\n * @param {mat2d} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat2d} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {mat2d} a The first matrix.\r\n * @param {mat2d} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {mat2d} a The first matrix.\r\n * @param {mat2d} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5));\n}\n/**\r\n * Alias for {@link mat2d.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat2d.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 3x3 Matrix\r\n * @module mat3\r\n */\n\n/**\r\n * Creates a new identity mat3\r\n *\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the upper-left 3x3 values into the given mat3.\r\n *\r\n * @param {mat3} out the receiving 3x3 matrix\r\n * @param {mat4} a   the source 4x4 matrix\r\n * @returns {mat3} out\r\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\r\n * Creates a new mat3 initialized with values from an existing matrix\r\n *\r\n * @param {mat3} a matrix to clone\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Copy the values from one mat3 to another\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Create a new mat3 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} A new mat3\r\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set the components of a mat3 to the given values\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} out\r\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set a mat3 to the identity matrix\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @returns {mat3} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat3\r\n *\r\n * @param {mat3} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\r\n * Multiplies two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\r\n * Translate a mat3 by the given vector\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to translate\r\n * @param {vec2} v vector to translate by\r\n * @returns {mat3} out\r\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\r\n * Rotates a mat3 by the given angle\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n;\n/**\r\n * Scales the mat3 by the dimensions in the given vec2\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to rotate\r\n * @param {vec2} v the vec2 to scale the matrix by\r\n * @returns {mat3} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.translate(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {vec2} v Translation vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.rotate(dest, dest, rad);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.scale(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {vec2} v Scaling vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the values from a mat2d into a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat2d} a the matrix to copy\r\n * @returns {mat3} out\r\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\r\n* Calculates a 3x3 matrix from the given quaternion\r\n*\r\n* @param {mat3} out mat3 receiving operation result\r\n* @param {quat} q Quaternion to create matrix from\r\n*\r\n* @returns {mat3} out\r\n*/\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\r\n* Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\r\n*\r\n* @param {mat3} out mat3 receiving operation result\r\n* @param {mat4} a Mat4 to derive the normal matrix from\r\n*\r\n* @returns {mat3} out\r\n*/\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\r\n * Generates a 2D projection matrix with the given bounds\r\n *\r\n * @param {mat3} out mat3 frustum matrix will be written into\r\n * @param {number} width Width of your gl context\r\n * @param {number} height Height of gl context\r\n * @returns {mat3} out\r\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat3\r\n *\r\n * @param {mat3} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return 'mat3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ', ' + a[8] + ')';\n}\n/**\r\n * Returns Frobenius norm of a mat3\r\n *\r\n * @param {mat3} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + Math.pow(a[6], 2) + Math.pow(a[7], 2) + Math.pow(a[8], 2));\n}\n/**\r\n * Adds two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\r\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat3} out the receiving vector\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {mat3} a The first matrix.\r\n * @param {mat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {mat3} a The first matrix.\r\n * @param {mat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\r\n * Alias for {@link mat3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\r\n * @module mat4\r\n */\n\n/**\r\n * Creates a new identity mat4\r\n *\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 initialized with values from an existing matrix\r\n *\r\n * @param {mat4} a matrix to clone\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Copy the values from one mat4 to another\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Create a new mat4 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} A new mat4\r\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set the components of a mat4 to the given values\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} out\r\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set a mat4 to the identity matrix\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @returns {mat4} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat4\r\n *\r\n * @param {mat4} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\r\n * Multiplies two mat4s\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\r\n * Translate a mat4 by the given vector\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to translate\r\n * @param {vec3} v vector to translate by\r\n * @returns {mat4} out\r\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\r\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to scale\r\n * @param {vec3} v the vec3 to scale the matrix by\r\n * @returns {mat4} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Rotates a mat4 by the given angle around the given axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {vec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.sqrt(x * x + y * y + z * z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the X axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Y axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Z axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {vec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.scale(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {vec3} v Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle around a given axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotate(dest, dest, rad, axis);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {vec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.sqrt(x * x + y * y + z * z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the X axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateX(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Y axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateY(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Z axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateZ(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation and vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {vec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 from a dual quat.\r\n *\r\n * @param {mat4} out Matrix\r\n * @param {quat2} a Dual Quaternion\r\n * @returns {mat4} mat4 receiving operation result\r\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\r\n * Returns the translation vector component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslation,\r\n *  the returned vector will be the same as the translation vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive translation component\r\n * @param  {mat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\r\n * Returns the scaling factor component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslationScale\r\n *  with a normalized Quaternion paramter, the returned vector will be\r\n *  the same as the scaling vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive scaling factor component\r\n * @param  {mat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.sqrt(m11 * m11 + m12 * m12 + m13 * m13);\n  out[1] = Math.sqrt(m21 * m21 + m22 * m22 + m23 * m23);\n  out[2] = Math.sqrt(m31 * m31 + m32 * m32 + m33 * m33);\n  return out;\n}\n/**\r\n * Returns a quaternion representing the rotational component\r\n *  of a transformation matrix. If a matrix is built with\r\n *  fromRotationTranslation, the returned quaternion will be the\r\n *  same as the quaternion originally supplied.\r\n * @param {quat} out Quaternion to receive the rotation component\r\n * @param {mat4} mat Matrix to be decomposed (input)\r\n * @return {quat} out\r\n */\n\nexport function getRotation(out, mat) {\n  // Algorithm taken from http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n  var trace = mat[0] + mat[5] + mat[10];\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (mat[6] - mat[9]) / S;\n    out[1] = (mat[8] - mat[2]) / S;\n    out[2] = (mat[1] - mat[4]) / S;\n  } else if (mat[0] > mat[5] && mat[0] > mat[10]) {\n    S = Math.sqrt(1.0 + mat[0] - mat[5] - mat[10]) * 2;\n    out[3] = (mat[6] - mat[9]) / S;\n    out[0] = 0.25 * S;\n    out[1] = (mat[1] + mat[4]) / S;\n    out[2] = (mat[8] + mat[2]) / S;\n  } else if (mat[5] > mat[10]) {\n    S = Math.sqrt(1.0 + mat[5] - mat[0] - mat[10]) * 2;\n    out[3] = (mat[8] - mat[2]) / S;\n    out[0] = (mat[1] + mat[4]) / S;\n    out[1] = 0.25 * S;\n    out[2] = (mat[6] + mat[9]) / S;\n  } else {\n    S = Math.sqrt(1.0 + mat[10] - mat[0] - mat[5]) * 2;\n    out[3] = (mat[1] - mat[4]) / S;\n    out[0] = (mat[8] + mat[2]) / S;\n    out[1] = (mat[6] + mat[9]) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {vec3} v Translation vector\r\n * @param {vec3} s Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     mat4.translate(dest, origin);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *     mat4.translate(dest, negativeOrigin);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {vec3} v Translation vector\r\n * @param {vec3} s Scaling vector\r\n * @param {vec3} o The origin vector around which to scale and rotate\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Calculates a 4x4 matrix from the given quaternion\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat4} out\r\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a frustum matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Number} left Left bound of the frustum\r\n * @param {Number} right Right bound of the frustum\r\n * @param {Number} bottom Bottom bound of the frustum\r\n * @param {Number} top Top bound of the frustum\r\n * @param {Number} near Near bound of the frustum\r\n * @param {Number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given bounds.\r\n * Passing null/undefined/no value for far will generate infinite projection matrix.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} fovy Vertical field of view in radians\r\n * @param {number} aspect Aspect ratio. typically viewport width/height\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum, can be null or Infinity\r\n * @returns {mat4} out\r\n */\n\nexport function perspective(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given field of view.\r\n * This is primarily useful for generating projection matrices to be used\r\n * with the still experiemental WebVR API.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\r\n * Generates a orthogonal projection matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} left Left bound of the frustum\r\n * @param {number} right Right bound of the frustum\r\n * @param {number} bottom Bottom bound of the frustum\r\n * @param {number} top Top bound of the frustum\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function ortho(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\r\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {vec3} eye Position of the viewer\r\n * @param {vec3} center Point the viewer is looking at\r\n * @param {vec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.sqrt(z0 * z0 + z1 * z1 + z2 * z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.sqrt(x0 * x0 + x1 * x1 + x2 * x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.sqrt(y0 * y0 + y1 * y1 + y2 * y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a matrix that makes something look at something else.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {vec3} eye Position of the viewer\r\n * @param {vec3} center Point the viewer is looking at\r\n * @param {vec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n;\n/**\r\n * Returns a string representation of a mat4\r\n *\r\n * @param {mat4} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return 'mat4(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ', ' + a[8] + ', ' + a[9] + ', ' + a[10] + ', ' + a[11] + ', ' + a[12] + ', ' + a[13] + ', ' + a[14] + ', ' + a[15] + ')';\n}\n/**\r\n * Returns Frobenius norm of a mat4\r\n *\r\n * @param {mat4} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + Math.pow(a[6], 2) + Math.pow(a[7], 2) + Math.pow(a[8], 2) + Math.pow(a[9], 2) + Math.pow(a[10], 2) + Math.pow(a[11], 2) + Math.pow(a[12], 2) + Math.pow(a[13], 2) + Math.pow(a[14], 2) + Math.pow(a[15], 2));\n}\n/**\r\n * Adds two mat4's\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\r\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat4} out the receiving vector\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {mat4} a The first matrix.\r\n * @param {mat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {mat4} a The first matrix.\r\n * @param {mat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\r\n * Alias for {@link mat4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 3 Dimensional Vector\r\n * @module vec3\r\n */\n\n/**\r\n * Creates a new, empty vec3\r\n *\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec3 initialized with values from an existing vector\r\n *\r\n * @param {vec3} a vector to clone\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Calculates the length of a vec3\r\n *\r\n * @param {vec3} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.sqrt(x * x + y * y + z * z);\n}\n/**\r\n * Creates a new vec3 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Copy the values from one vec3 to another\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the source vector\r\n * @returns {vec3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Set the components of a vec3 to the given values\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} out\r\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Adds two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\r\n * Multiplies two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\r\n * Divides two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to ceil\r\n * @returns {vec3} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to floor\r\n * @returns {vec3} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to round\r\n * @returns {vec3} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\r\n * Scales a vec3 by a scalar number\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec3} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\r\n * Adds two vec3's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec3} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec3's\r\n *\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.sqrt(x * x + y * y + z * z);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec3's\r\n *\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Calculates the squared length of a vec3\r\n *\r\n * @param {vec3} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Negates the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to negate\r\n * @returns {vec3} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to invert\r\n * @returns {vec3} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\r\n * Normalize a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to normalize\r\n * @returns {vec3} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec3's\r\n *\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\r\n * Computes the cross product of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\r\n * Performs a hermite interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @param {vec3} c the third operand\r\n * @param {vec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Performs a bezier interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @param {vec3} c the third operand\r\n * @param {vec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec3} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat4.\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to transform\r\n * @param {mat4} m matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat3.\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to transform\r\n * @param {mat3} m the 3x3 matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\r\n * Transforms the vec3 with a quat\r\n * Can also be used for dual quaternions. (Multiply it with the real part)\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to transform\r\n * @param {quat} q quaternion to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the x-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {vec3} a The vec3 point to rotate\r\n * @param {vec3} b The origin of the rotation\r\n * @param {Number} c The angle of rotation\r\n * @returns {vec3} out\r\n */\n\nexport function rotateX(out, a, b, c) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(c) - p[2] * Math.sin(c);\n  r[2] = p[1] * Math.sin(c) + p[2] * Math.cos(c); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the y-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {vec3} a The vec3 point to rotate\r\n * @param {vec3} b The origin of the rotation\r\n * @param {Number} c The angle of rotation\r\n * @returns {vec3} out\r\n */\n\nexport function rotateY(out, a, b, c) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(c) + p[0] * Math.cos(c);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(c) - p[0] * Math.sin(c); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the z-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {vec3} a The vec3 point to rotate\r\n * @param {vec3} b The origin of the rotation\r\n * @param {Number} c The angle of rotation\r\n * @returns {vec3} out\r\n */\n\nexport function rotateZ(out, a, b, c) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(c) - p[1] * Math.sin(c);\n  r[1] = p[0] * Math.sin(c) + p[1] * Math.cos(c);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Get the angle between two 3D vectors\r\n * @param {vec3} a The first operand\r\n * @param {vec3} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var tempA = fromValues(a[0], a[1], a[2]);\n  var tempB = fromValues(b[0], b[1], b[2]);\n  normalize(tempA, tempA);\n  normalize(tempB, tempB);\n  var cosine = dot(tempA, tempB);\n\n  if (cosine > 1.0) {\n    return 0;\n  } else if (cosine < -1.0) {\n    return Math.PI;\n  } else {\n    return Math.acos(cosine);\n  }\n}\n/**\r\n * Set the components of a vec3 to zero\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @returns {vec3} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {vec3} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return 'vec3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ')';\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {vec3} a The first vector.\r\n * @param {vec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {vec3} a The first vector.\r\n * @param {vec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\r\n * Alias for {@link vec3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec3.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec3.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec3.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec3.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec3.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec3s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\n/**\r\n * 4 Dimensional Vector\r\n * @module vec4\r\n */\n\n/**\r\n * Creates a new, empty vec4\r\n *\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with values from an existing vector\r\n *\r\n * @param {vec4} a vector to clone\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Copy the values from one vec4 to another\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the source vector\r\n * @returns {vec4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to the given values\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} out\r\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Adds two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\r\n * Multiplies two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\r\n * Divides two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to ceil\r\n * @returns {vec4} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to floor\r\n * @returns {vec4} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to round\r\n * @returns {vec4} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\r\n * Scales a vec4 by a scalar number\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec4} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\r\n * Adds two vec4's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec4} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec4's\r\n *\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.sqrt(x * x + y * y + z * z + w * w);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec4's\r\n *\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Calculates the length of a vec4\r\n *\r\n * @param {vec4} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.sqrt(x * x + y * y + z * z + w * w);\n}\n/**\r\n * Calculates the squared length of a vec4\r\n *\r\n * @param {vec4} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Negates the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to negate\r\n * @returns {vec4} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to invert\r\n * @returns {vec4} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\r\n * Normalize a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to normalize\r\n * @returns {vec4} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec4's\r\n *\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\r\n * Returns the cross-product of three vectors in a 4-dimensional space\r\n *\r\n * @param {vec4} result the receiving vector\r\n * @param {vec4} U the first vector\r\n * @param {vec4} V the second vector\r\n * @param {vec4} W the third vector\r\n * @returns {vec4} result\r\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n;\n/**\r\n * Performs a linear interpolation between two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec4} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec4} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a mat4.\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the vector to transform\r\n * @param {mat4} m matrix to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a quat\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the vector to transform\r\n * @param {quat} q quaternion to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to zero\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @returns {vec4} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {vec4} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return 'vec4(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {vec4} a The first vector.\r\n * @param {vec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {vec4} a The first vector.\r\n * @param {vec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\r\n * Alias for {@link vec4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec4.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec4.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec4.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec4.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec4.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec4s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\nimport * as mat3 from \"./mat3.js\";\nimport * as vec3 from \"./vec3.js\";\nimport * as vec4 from \"./vec4.js\";\n/**\r\n * Quaternion\r\n * @module quat\r\n */\n\n/**\r\n * Creates a new identity quat\r\n *\r\n * @returns {quat} a new quaternion\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Set a quat to the identity quaternion\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @returns {quat} out\r\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Sets a quat from the given angle and rotation axis,\r\n * then returns it.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {vec3} axis the axis around which to rotate\r\n * @param {Number} rad the angle in radians\r\n * @returns {quat} out\r\n **/\n\nexport function setAxisAngle(out, axis, rad) {\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  out[0] = s * axis[0];\n  out[1] = s * axis[1];\n  out[2] = s * axis[2];\n  out[3] = Math.cos(rad);\n  return out;\n}\n/**\r\n * Gets the rotation axis and angle for a given\r\n *  quaternion. If a quaternion is created with\r\n *  setAxisAngle, this method will return the same\r\n *  values as providied in the original parameter list\r\n *  OR functionally equivalent values.\r\n * Example: The quaternion formed by axis [0, 0, 1] and\r\n *  angle -90 is the same as the quaternion formed by\r\n *  [0, 0, 1] and 270. This method favors the latter.\r\n * @param  {vec3} out_axis  Vector receiving the axis of rotation\r\n * @param  {quat} q     Quaternion to be decomposed\r\n * @return {Number}     Angle, in radians, of the rotation\r\n */\n\nexport function getAxisAngle(out_axis, q) {\n  var rad = Math.acos(q[3]) * 2.0;\n  var s = Math.sin(rad / 2.0);\n\n  if (s > glMatrix.EPSILON) {\n    out_axis[0] = q[0] / s;\n    out_axis[1] = q[1] / s;\n    out_axis[2] = q[2] / s;\n  } else {\n    // If s is zero, return any axis (no rotation - axis does not matter)\n    out_axis[0] = 1;\n    out_axis[1] = 0;\n    out_axis[2] = 0;\n  }\n\n  return rad;\n}\n/**\r\n * Multiplies two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @returns {quat} out\r\n */\n\nexport function multiply(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  out[0] = ax * bw + aw * bx + ay * bz - az * by;\n  out[1] = ay * bw + aw * by + az * bx - ax * bz;\n  out[2] = az * bw + aw * bz + ax * by - ay * bx;\n  out[3] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the X axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {quat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + aw * bx;\n  out[1] = ay * bw + az * bx;\n  out[2] = az * bw - ay * bx;\n  out[3] = aw * bw - ax * bx;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the Y axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {quat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var by = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw - az * by;\n  out[1] = ay * bw + aw * by;\n  out[2] = az * bw + ax * by;\n  out[3] = aw * bw - ay * by;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the Z axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {quat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bz = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + ay * bz;\n  out[1] = ay * bw - ax * bz;\n  out[2] = az * bw + aw * bz;\n  out[3] = aw * bw - az * bz;\n  return out;\n}\n/**\r\n * Calculates the W component of a quat from the X, Y, and Z components.\r\n * Assumes that quaternion is 1 unit in length.\r\n * Any existing W component will be ignored.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate W component of\r\n * @returns {quat} out\r\n */\n\nexport function calculateW(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n  return out;\n}\n/**\r\n * Performs a spherical linear interpolation between two quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n */\n\nexport function slerp(out, a, b, t) {\n  // benchmarks:\n  //    http://jsperf.com/quaternion-slerp-implementations\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  var omega, cosom, sinom, scale0, scale1; // calc cosine\n\n  cosom = ax * bx + ay * by + az * bz + aw * bw; // adjust signs (if necessary)\n\n  if (cosom < 0.0) {\n    cosom = -cosom;\n    bx = -bx;\n    by = -by;\n    bz = -bz;\n    bw = -bw;\n  } // calculate coefficients\n\n\n  if (1.0 - cosom > glMatrix.EPSILON) {\n    // standard case (slerp)\n    omega = Math.acos(cosom);\n    sinom = Math.sin(omega);\n    scale0 = Math.sin((1.0 - t) * omega) / sinom;\n    scale1 = Math.sin(t * omega) / sinom;\n  } else {\n    // \"from\" and \"to\" quaternions are very close\n    //  ... so we can do a linear interpolation\n    scale0 = 1.0 - t;\n    scale1 = t;\n  } // calculate final values\n\n\n  out[0] = scale0 * ax + scale1 * bx;\n  out[1] = scale0 * ay + scale1 * by;\n  out[2] = scale0 * az + scale1 * bz;\n  out[3] = scale0 * aw + scale1 * bw;\n  return out;\n}\n/**\r\n * Generates a random quaternion\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @returns {quat} out\r\n */\n\nexport function random(out) {\n  // Implementation of http://planning.cs.uiuc.edu/node198.html\n  // TODO: Calling random 3 times is probably not the fastest solution\n  var u1 = glMatrix.RANDOM();\n  var u2 = glMatrix.RANDOM();\n  var u3 = glMatrix.RANDOM();\n  var sqrt1MinusU1 = Math.sqrt(1 - u1);\n  var sqrtU1 = Math.sqrt(u1);\n  out[0] = sqrt1MinusU1 * Math.sin(2.0 * Math.PI * u2);\n  out[1] = sqrt1MinusU1 * Math.cos(2.0 * Math.PI * u2);\n  out[2] = sqrtU1 * Math.sin(2.0 * Math.PI * u3);\n  out[3] = sqrtU1 * Math.cos(2.0 * Math.PI * u3);\n  return out;\n}\n/**\r\n * Calculates the inverse of a quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate inverse of\r\n * @returns {quat} out\r\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n  var invDot = dot ? 1.0 / dot : 0; // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n  out[0] = -a0 * invDot;\n  out[1] = -a1 * invDot;\n  out[2] = -a2 * invDot;\n  out[3] = a3 * invDot;\n  return out;\n}\n/**\r\n * Calculates the conjugate of a quat\r\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate conjugate of\r\n * @returns {quat} out\r\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a quaternion from the given 3x3 rotation matrix.\r\n *\r\n * NOTE: The resultant quaternion is not normalized, so you should be sure\r\n * to renormalize the quaternion yourself where necessary.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {mat3} m rotation matrix\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport function fromMat3(out, m) {\n  // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n  // article \"Quaternion Calculus and Fast Animation\".\n  var fTrace = m[0] + m[4] + m[8];\n  var fRoot;\n\n  if (fTrace > 0.0) {\n    // |w| > 1/2, may as well choose w > 1/2\n    fRoot = Math.sqrt(fTrace + 1.0); // 2w\n\n    out[3] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot; // 1/(4w)\n\n    out[0] = (m[5] - m[7]) * fRoot;\n    out[1] = (m[6] - m[2]) * fRoot;\n    out[2] = (m[1] - m[3]) * fRoot;\n  } else {\n    // |w| <= 1/2\n    var i = 0;\n    if (m[4] > m[0]) i = 1;\n    if (m[8] > m[i * 3 + i]) i = 2;\n    var j = (i + 1) % 3;\n    var k = (i + 2) % 3;\n    fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\n    out[i] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot;\n    out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\n    out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\n    out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\n  }\n\n  return out;\n}\n/**\r\n * Creates a quaternion from the given euler angle x, y, z.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {x} Angle to rotate around X axis in degrees.\r\n * @param {y} Angle to rotate around Y axis in degrees.\r\n * @param {z} Angle to rotate around Z axis in degrees.\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport function fromEuler(out, x, y, z) {\n  var halfToRad = 0.5 * Math.PI / 180.0;\n  x *= halfToRad;\n  y *= halfToRad;\n  z *= halfToRad;\n  var sx = Math.sin(x);\n  var cx = Math.cos(x);\n  var sy = Math.sin(y);\n  var cy = Math.cos(y);\n  var sz = Math.sin(z);\n  var cz = Math.cos(z);\n  out[0] = sx * cy * cz - cx * sy * sz;\n  out[1] = cx * sy * cz + sx * cy * sz;\n  out[2] = cx * cy * sz - sx * sy * cz;\n  out[3] = cx * cy * cz + sx * sy * sz;\n  return out;\n}\n/**\r\n * Returns a string representation of a quatenion\r\n *\r\n * @param {quat} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return 'quat(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n}\n/**\r\n * Creates a new quat initialized with values from an existing quaternion\r\n *\r\n * @param {quat} a quaternion to clone\r\n * @returns {quat} a new quaternion\r\n * @function\r\n */\n\nexport var clone = vec4.clone;\n/**\r\n * Creates a new quat initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {quat} a new quaternion\r\n * @function\r\n */\n\nexport var fromValues = vec4.fromValues;\n/**\r\n * Copy the values from one quat to another\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the source quaternion\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var copy = vec4.copy;\n/**\r\n * Set the components of a quat to the given values\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var set = vec4.set;\n/**\r\n * Adds two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var add = vec4.add;\n/**\r\n * Alias for {@link quat.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Scales a quat by a scalar number\r\n *\r\n * @param {quat} out the receiving vector\r\n * @param {quat} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var scale = vec4.scale;\n/**\r\n * Calculates the dot product of two quat's\r\n *\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @returns {Number} dot product of a and b\r\n * @function\r\n */\n\nexport var dot = vec4.dot;\n/**\r\n * Performs a linear interpolation between two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var lerp = vec4.lerp;\n/**\r\n * Calculates the length of a quat\r\n *\r\n * @param {quat} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport var length = vec4.length;\n/**\r\n * Alias for {@link quat.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Calculates the squared length of a quat\r\n *\r\n * @param {quat} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n * @function\r\n */\n\nexport var squaredLength = vec4.squaredLength;\n/**\r\n * Alias for {@link quat.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Normalize a quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quaternion to normalize\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var normalize = vec4.normalize;\n/**\r\n * Returns whether or not the quaternions have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {quat} a The first quaternion.\r\n * @param {quat} b The second quaternion.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport var exactEquals = vec4.exactEquals;\n/**\r\n * Returns whether or not the quaternions have approximately the same elements in the same position.\r\n *\r\n * @param {quat} a The first vector.\r\n * @param {quat} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport var equals = vec4.equals;\n/**\r\n * Sets a quaternion to represent the shortest rotation from one\r\n * vector to another.\r\n *\r\n * Both vectors are assumed to be unit length.\r\n *\r\n * @param {quat} out the receiving quaternion.\r\n * @param {vec3} a the initial vector\r\n * @param {vec3} b the destination vector\r\n * @returns {quat} out\r\n */\n\nexport var rotationTo = function () {\n  var tmpvec3 = vec3.create();\n  var xUnitVec3 = vec3.fromValues(1, 0, 0);\n  var yUnitVec3 = vec3.fromValues(0, 1, 0);\n  return function (out, a, b) {\n    var dot = vec3.dot(a, b);\n\n    if (dot < -0.999999) {\n      vec3.cross(tmpvec3, xUnitVec3, a);\n      if (vec3.len(tmpvec3) < 0.000001) vec3.cross(tmpvec3, yUnitVec3, a);\n      vec3.normalize(tmpvec3, tmpvec3);\n      setAxisAngle(out, tmpvec3, Math.PI);\n      return out;\n    } else if (dot > 0.999999) {\n      out[0] = 0;\n      out[1] = 0;\n      out[2] = 0;\n      out[3] = 1;\n      return out;\n    } else {\n      vec3.cross(tmpvec3, a, b);\n      out[0] = tmpvec3[0];\n      out[1] = tmpvec3[1];\n      out[2] = tmpvec3[2];\n      out[3] = 1 + dot;\n      return normalize(out, out);\n    }\n  };\n}();\n/**\r\n * Performs a spherical linear interpolation with two control points\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @param {quat} c the third operand\r\n * @param {quat} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n */\n\nexport var sqlerp = function () {\n  var temp1 = create();\n  var temp2 = create();\n  return function (out, a, b, c, d, t) {\n    slerp(temp1, a, d, t);\n    slerp(temp2, b, c, t);\n    slerp(out, temp1, temp2, 2 * t * (1 - t));\n    return out;\n  };\n}();\n/**\r\n * Sets the specified quaternion with values corresponding to the given\r\n * axes. Each axis is a vec3 and is expected to be unit length and\r\n * perpendicular to all other specified axes.\r\n *\r\n * @param {vec3} view  the vector representing the viewing direction\r\n * @param {vec3} right the vector representing the local \"right\" direction\r\n * @param {vec3} up    the vector representing the local \"up\" direction\r\n * @returns {quat} out\r\n */\n\nexport var setAxes = function () {\n  var matr = mat3.create();\n  return function (out, view, right, up) {\n    matr[0] = right[0];\n    matr[3] = right[1];\n    matr[6] = right[2];\n    matr[1] = up[0];\n    matr[4] = up[1];\n    matr[7] = up[2];\n    matr[2] = -view[0];\n    matr[5] = -view[1];\n    matr[8] = -view[2];\n    return normalize(out, fromMat3(out, matr));\n  };\n}();","import * as glMatrix from \"./common.js\";\nimport * as quat from \"./quat.js\";\nimport * as mat4 from \"./mat4.js\";\n/**\r\n * Dual Quaternion<br>\r\n * Format: [real, dual]<br>\r\n * Quaternion format: XYZW<br>\r\n * Make sure to have normalized dual quaternions, otherwise the functions may not work as intended.<br>\r\n * @module quat2\r\n */\n\n/**\r\n * Creates a new identity dual quat\r\n *\r\n * @returns {quat2} a new dual quaternion [real -> rotation, dual -> translation]\r\n */\n\nexport function create() {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    dq[0] = 0;\n    dq[1] = 0;\n    dq[2] = 0;\n    dq[4] = 0;\n    dq[5] = 0;\n    dq[6] = 0;\n    dq[7] = 0;\n  }\n\n  dq[3] = 1;\n  return dq;\n}\n/**\r\n * Creates a new quat initialized with values from an existing quaternion\r\n *\r\n * @param {quat2} a dual quaternion to clone\r\n * @returns {quat2} new dual quaternion\r\n * @function\r\n */\n\nexport function clone(a) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = a[0];\n  dq[1] = a[1];\n  dq[2] = a[2];\n  dq[3] = a[3];\n  dq[4] = a[4];\n  dq[5] = a[5];\n  dq[6] = a[6];\n  dq[7] = a[7];\n  return dq;\n}\n/**\r\n * Creates a new dual quat initialized with the given values\r\n *\r\n * @param {Number} x1 X component\r\n * @param {Number} y1 Y component\r\n * @param {Number} z1 Z component\r\n * @param {Number} w1 W component\r\n * @param {Number} x2 X component\r\n * @param {Number} y2 Y component\r\n * @param {Number} z2 Z component\r\n * @param {Number} w2 W component\r\n * @returns {quat2} new dual quaternion\r\n * @function\r\n */\n\nexport function fromValues(x1, y1, z1, w1, x2, y2, z2, w2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  dq[4] = x2;\n  dq[5] = y2;\n  dq[6] = z2;\n  dq[7] = w2;\n  return dq;\n}\n/**\r\n * Creates a new dual quat from the given values (quat and translation)\r\n *\r\n * @param {Number} x1 X component\r\n * @param {Number} y1 Y component\r\n * @param {Number} z1 Z component\r\n * @param {Number} w1 W component\r\n * @param {Number} x2 X component (translation)\r\n * @param {Number} y2 Y component (translation)\r\n * @param {Number} z2 Z component (translation)\r\n * @returns {quat2} new dual quaternion\r\n * @function\r\n */\n\nexport function fromRotationTranslationValues(x1, y1, z1, w1, x2, y2, z2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  var ax = x2 * 0.5,\n      ay = y2 * 0.5,\n      az = z2 * 0.5;\n  dq[4] = ax * w1 + ay * z1 - az * y1;\n  dq[5] = ay * w1 + az * x1 - ax * z1;\n  dq[6] = az * w1 + ax * y1 - ay * x1;\n  dq[7] = -ax * x1 - ay * y1 - az * z1;\n  return dq;\n}\n/**\r\n * Creates a dual quat from a quaternion and a translation\r\n *\r\n * @param {quat2} dual quaternion receiving operation result\r\n * @param {quat} q quaternion\r\n * @param {vec3} t tranlation vector\r\n * @returns {quat2} dual quaternion receiving operation result\r\n * @function\r\n */\n\nexport function fromRotationTranslation(out, q, t) {\n  var ax = t[0] * 0.5,\n      ay = t[1] * 0.5,\n      az = t[2] * 0.5,\n      bx = q[0],\n      by = q[1],\n      bz = q[2],\n      bw = q[3];\n  out[0] = bx;\n  out[1] = by;\n  out[2] = bz;\n  out[3] = bw;\n  out[4] = ax * bw + ay * bz - az * by;\n  out[5] = ay * bw + az * bx - ax * bz;\n  out[6] = az * bw + ax * by - ay * bx;\n  out[7] = -ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\r\n * Creates a dual quat from a translation\r\n *\r\n * @param {quat2} dual quaternion receiving operation result\r\n * @param {vec3} t translation vector\r\n * @returns {quat2} dual quaternion receiving operation result\r\n * @function\r\n */\n\nexport function fromTranslation(out, t) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = t[0] * 0.5;\n  out[5] = t[1] * 0.5;\n  out[6] = t[2] * 0.5;\n  out[7] = 0;\n  return out;\n}\n/**\r\n * Creates a dual quat from a quaternion\r\n *\r\n * @param {quat2} dual quaternion receiving operation result\r\n * @param {quat} q the quaternion\r\n * @returns {quat2} dual quaternion receiving operation result\r\n * @function\r\n */\n\nexport function fromRotation(out, q) {\n  out[0] = q[0];\n  out[1] = q[1];\n  out[2] = q[2];\n  out[3] = q[3];\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\r\n * Creates a new dual quat from a matrix (4x4)\r\n *\r\n * @param {quat2} out the dual quaternion\r\n * @param {mat4} a the matrix\r\n * @returns {quat2} dual quat receiving operation result\r\n * @function\r\n */\n\nexport function fromMat4(out, a) {\n  //TODO Optimize this\n  var outer = quat.create();\n  mat4.getRotation(outer, a);\n  var t = new glMatrix.ARRAY_TYPE(3);\n  mat4.getTranslation(t, a);\n  fromRotationTranslation(out, outer, t);\n  return out;\n}\n/**\r\n * Copy the values from one dual quat to another\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the source dual quaternion\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\r\n * Set a dual quat to the identity dual quaternion\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @returns {quat2} out\r\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\r\n * Set the components of a dual quat to the given values\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {Number} x1 X component\r\n * @param {Number} y1 Y component\r\n * @param {Number} z1 Z component\r\n * @param {Number} w1 W component\r\n * @param {Number} x2 X component\r\n * @param {Number} y2 Y component\r\n * @param {Number} z2 Z component\r\n * @param {Number} w2 W component\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function set(out, x1, y1, z1, w1, x2, y2, z2, w2) {\n  out[0] = x1;\n  out[1] = y1;\n  out[2] = z1;\n  out[3] = w1;\n  out[4] = x2;\n  out[5] = y2;\n  out[6] = z2;\n  out[7] = w2;\n  return out;\n}\n/**\r\n * Gets the real part of a dual quat\r\n * @param  {quat} out real part\r\n * @param  {quat2} a Dual Quaternion\r\n * @return {quat} real part\r\n */\n\nexport var getReal = quat.copy;\n/**\r\n * Gets the dual part of a dual quat\r\n * @param  {quat} out dual part\r\n * @param  {quat2} a Dual Quaternion\r\n * @return {quat} dual part\r\n */\n\nexport function getDual(out, a) {\n  out[0] = a[4];\n  out[1] = a[5];\n  out[2] = a[6];\n  out[3] = a[7];\n  return out;\n}\n/**\r\n * Set the real component of a dual quat to the given quaternion\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {quat} q a quaternion representing the real part\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport var setReal = quat.copy;\n/**\r\n * Set the dual component of a dual quat to the given quaternion\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {quat} q a quaternion representing the dual part\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function setDual(out, q) {\n  out[4] = q[0];\n  out[5] = q[1];\n  out[6] = q[2];\n  out[7] = q[3];\n  return out;\n}\n/**\r\n * Gets the translation of a normalized dual quat\r\n * @param  {vec3} out translation\r\n * @param  {quat2} a Dual Quaternion to be decomposed\r\n * @return {vec3} translation\r\n */\n\nexport function getTranslation(out, a) {\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3];\n  out[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n  out[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n  out[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  return out;\n}\n/**\r\n * Translates a dual quat by the given vector\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to translate\r\n * @param {vec3} v vector to translate by\r\n * @returns {quat2} out\r\n */\n\nexport function translate(out, a, v) {\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3],\n      bx1 = v[0] * 0.5,\n      by1 = v[1] * 0.5,\n      bz1 = v[2] * 0.5,\n      ax2 = a[4],\n      ay2 = a[5],\n      az2 = a[6],\n      aw2 = a[7];\n  out[0] = ax1;\n  out[1] = ay1;\n  out[2] = az1;\n  out[3] = aw1;\n  out[4] = aw1 * bx1 + ay1 * bz1 - az1 * by1 + ax2;\n  out[5] = aw1 * by1 + az1 * bx1 - ax1 * bz1 + ay2;\n  out[6] = aw1 * bz1 + ax1 * by1 - ay1 * bx1 + az2;\n  out[7] = -ax1 * bx1 - ay1 * by1 - az1 * bz1 + aw2;\n  return out;\n}\n/**\r\n * Rotates a dual quat around the X axis\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @param {number} rad how far should the rotation be\r\n * @returns {quat2} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateX(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat around the Y axis\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @param {number} rad how far should the rotation be\r\n * @returns {quat2} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateY(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat around the Z axis\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @param {number} rad how far should the rotation be\r\n * @returns {quat2} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateZ(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat by a given quaternion (a * q)\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @param {quat} q quaternion to rotate by\r\n * @returns {quat2} out\r\n */\n\nexport function rotateByQuatAppend(out, a, q) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  out[0] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[1] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[2] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[3] = aw * qw - ax * qx - ay * qy - az * qz;\n  ax = a[4];\n  ay = a[5];\n  az = a[6];\n  aw = a[7];\n  out[4] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[5] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[6] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[7] = aw * qw - ax * qx - ay * qy - az * qz;\n  return out;\n}\n/**\r\n * Rotates a dual quat by a given quaternion (q * a)\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat} q quaternion to rotate by\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @returns {quat2} out\r\n */\n\nexport function rotateByQuatPrepend(out, q, a) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      bx = a[0],\n      by = a[1],\n      bz = a[2],\n      bw = a[3];\n  out[0] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[1] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[2] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[3] = qw * bw - qx * bx - qy * by - qz * bz;\n  bx = a[4];\n  by = a[5];\n  bz = a[6];\n  bw = a[7];\n  out[4] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[5] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[6] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[7] = qw * bw - qx * bx - qy * by - qz * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat around a given axis. Does the normalisation automatically\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @param {vec3} axis the axis to rotate around\r\n * @param {Number} rad how far the rotation should be\r\n * @returns {quat2} out\r\n */\n\nexport function rotateAroundAxis(out, a, axis, rad) {\n  //Special case for rad = 0\n  if (Math.abs(rad) < glMatrix.EPSILON) {\n    return copy(out, a);\n  }\n\n  var axisLength = Math.sqrt(axis[0] * axis[0] + axis[1] * axis[1] + axis[2] * axis[2]);\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  var bx = s * axis[0] / axisLength;\n  var by = s * axis[1] / axisLength;\n  var bz = s * axis[2] / axisLength;\n  var bw = Math.cos(rad);\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3];\n  out[0] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[1] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[2] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[3] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  out[4] = ax * bw + aw * bx + ay * bz - az * by;\n  out[5] = ay * bw + aw * by + az * bx - ax * bz;\n  out[6] = az * bw + aw * bz + ax * by - ay * bx;\n  out[7] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\r\n * Adds two dual quat's\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the first operand\r\n * @param {quat2} b the second operand\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  return out;\n}\n/**\r\n * Multiplies two dual quat's\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the first operand\r\n * @param {quat2} b the second operand\r\n * @returns {quat2} out\r\n */\n\nexport function multiply(out, a, b) {\n  var ax0 = a[0],\n      ay0 = a[1],\n      az0 = a[2],\n      aw0 = a[3],\n      bx1 = b[4],\n      by1 = b[5],\n      bz1 = b[6],\n      bw1 = b[7],\n      ax1 = a[4],\n      ay1 = a[5],\n      az1 = a[6],\n      aw1 = a[7],\n      bx0 = b[0],\n      by0 = b[1],\n      bz0 = b[2],\n      bw0 = b[3];\n  out[0] = ax0 * bw0 + aw0 * bx0 + ay0 * bz0 - az0 * by0;\n  out[1] = ay0 * bw0 + aw0 * by0 + az0 * bx0 - ax0 * bz0;\n  out[2] = az0 * bw0 + aw0 * bz0 + ax0 * by0 - ay0 * bx0;\n  out[3] = aw0 * bw0 - ax0 * bx0 - ay0 * by0 - az0 * bz0;\n  out[4] = ax0 * bw1 + aw0 * bx1 + ay0 * bz1 - az0 * by1 + ax1 * bw0 + aw1 * bx0 + ay1 * bz0 - az1 * by0;\n  out[5] = ay0 * bw1 + aw0 * by1 + az0 * bx1 - ax0 * bz1 + ay1 * bw0 + aw1 * by0 + az1 * bx0 - ax1 * bz0;\n  out[6] = az0 * bw1 + aw0 * bz1 + ax0 * by1 - ay0 * bx1 + az1 * bw0 + aw1 * bz0 + ax1 * by0 - ay1 * bx0;\n  out[7] = aw0 * bw1 - ax0 * bx1 - ay0 * by1 - az0 * bz1 + aw1 * bw0 - ax1 * bx0 - ay1 * by0 - az1 * bz0;\n  return out;\n}\n/**\r\n * Alias for {@link quat2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Scales a dual quat by a scalar number\r\n *\r\n * @param {quat2} out the receiving dual quat\r\n * @param {quat2} a the dual quat to scale\r\n * @param {Number} b amount to scale the dual quat by\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  return out;\n}\n/**\r\n * Calculates the dot product of two dual quat's (The dot product of the real parts)\r\n *\r\n * @param {quat2} a the first operand\r\n * @param {quat2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n * @function\r\n */\n\nexport var dot = quat.dot;\n/**\r\n * Performs a linear interpolation between two dual quats's\r\n * NOTE: The resulting dual quaternions won't always be normalized (The error is most noticeable when t = 0.5)\r\n *\r\n * @param {quat2} out the receiving dual quat\r\n * @param {quat2} a the first operand\r\n * @param {quat2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat2} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var mt = 1 - t;\n  if (dot(a, b) < 0) t = -t;\n  out[0] = a[0] * mt + b[0] * t;\n  out[1] = a[1] * mt + b[1] * t;\n  out[2] = a[2] * mt + b[2] * t;\n  out[3] = a[3] * mt + b[3] * t;\n  out[4] = a[4] * mt + b[4] * t;\n  out[5] = a[5] * mt + b[5] * t;\n  out[6] = a[6] * mt + b[6] * t;\n  out[7] = a[7] * mt + b[7] * t;\n  return out;\n}\n/**\r\n * Calculates the inverse of a dual quat. If they are normalized, conjugate is cheaper\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a dual quat to calculate inverse of\r\n * @returns {quat2} out\r\n */\n\nexport function invert(out, a) {\n  var sqlen = squaredLength(a);\n  out[0] = -a[0] / sqlen;\n  out[1] = -a[1] / sqlen;\n  out[2] = -a[2] / sqlen;\n  out[3] = a[3] / sqlen;\n  out[4] = -a[4] / sqlen;\n  out[5] = -a[5] / sqlen;\n  out[6] = -a[6] / sqlen;\n  out[7] = a[7] / sqlen;\n  return out;\n}\n/**\r\n * Calculates the conjugate of a dual quat\r\n * If the dual quaternion is normalized, this function is faster than quat2.inverse and produces the same result.\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {quat2} a quat to calculate conjugate of\r\n * @returns {quat2} out\r\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  out[4] = -a[4];\n  out[5] = -a[5];\n  out[6] = -a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\r\n * Calculates the length of a dual quat\r\n *\r\n * @param {quat2} a dual quat to calculate length of\r\n * @returns {Number} length of a\r\n * @function\r\n */\n\nexport var length = quat.length;\n/**\r\n * Alias for {@link quat2.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Calculates the squared length of a dual quat\r\n *\r\n * @param {quat2} a dual quat to calculate squared length of\r\n * @returns {Number} squared length of a\r\n * @function\r\n */\n\nexport var squaredLength = quat.squaredLength;\n/**\r\n * Alias for {@link quat2.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Normalize a dual quat\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a dual quaternion to normalize\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function normalize(out, a) {\n  var magnitude = squaredLength(a);\n\n  if (magnitude > 0) {\n    magnitude = Math.sqrt(magnitude);\n    var a0 = a[0] / magnitude;\n    var a1 = a[1] / magnitude;\n    var a2 = a[2] / magnitude;\n    var a3 = a[3] / magnitude;\n    var b0 = a[4];\n    var b1 = a[5];\n    var b2 = a[6];\n    var b3 = a[7];\n    var a_dot_b = a0 * b0 + a1 * b1 + a2 * b2 + a3 * b3;\n    out[0] = a0;\n    out[1] = a1;\n    out[2] = a2;\n    out[3] = a3;\n    out[4] = (b0 - a0 * a_dot_b) / magnitude;\n    out[5] = (b1 - a1 * a_dot_b) / magnitude;\n    out[6] = (b2 - a2 * a_dot_b) / magnitude;\n    out[7] = (b3 - a3 * a_dot_b) / magnitude;\n  }\n\n  return out;\n}\n/**\r\n * Returns a string representation of a dual quatenion\r\n *\r\n * @param {quat2} a dual quaternion to represent as a string\r\n * @returns {String} string representation of the dual quat\r\n */\n\nexport function str(a) {\n  return 'quat2(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ')';\n}\n/**\r\n * Returns whether or not the dual quaternions have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {quat2} a the first dual quaternion.\r\n * @param {quat2} b the second dual quaternion.\r\n * @returns {Boolean} true if the dual quaternions are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7];\n}\n/**\r\n * Returns whether or not the dual quaternions have approximately the same elements in the same position.\r\n *\r\n * @param {quat2} a the first dual quat.\r\n * @param {quat2} b the second dual quat.\r\n * @returns {Boolean} true if the dual quats are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7));\n}","import * as glMatrix from \"./common.js\";\n/**\r\n * 2 Dimensional Vector\r\n * @module vec2\r\n */\n\n/**\r\n * Creates a new, empty vec2\r\n *\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with values from an existing vector\r\n *\r\n * @param {vec2} a vector to clone\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Copy the values from one vec2 to another\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the source vector\r\n * @returns {vec2} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Set the components of a vec2 to the given values\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} out\r\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Adds two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\r\n * Multiplies two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\r\n * Divides two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to ceil\r\n * @returns {vec2} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to floor\r\n * @returns {vec2} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to round\r\n * @returns {vec2} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\r\n * Scales a vec2 by a scalar number\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec2} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\r\n * Adds two vec2's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec2} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec2's\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.sqrt(x * x + y * y);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec2's\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\r\n * Calculates the length of a vec2\r\n *\r\n * @param {vec2} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.sqrt(x * x + y * y);\n}\n/**\r\n * Calculates the squared length of a vec2\r\n *\r\n * @param {vec2} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\r\n * Negates the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to negate\r\n * @returns {vec2} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to invert\r\n * @returns {vec2} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\r\n * Normalize a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to normalize\r\n * @returns {vec2} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec2's\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\r\n * Computes the cross product of two vec2's\r\n * Note that the cross product must by definition produce a 3D vector\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec2} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec2} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat2} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2d\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat2d} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat3\r\n * 3rd vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat3} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat4\r\n * 3rd vector component is implicitly '0'\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat4} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\r\n * Rotate a 2D vector\r\n * @param {vec2} out The receiving vec2\r\n * @param {vec2} a The vec2 point to rotate\r\n * @param {vec2} b The origin of the rotation\r\n * @param {Number} c The angle of rotation\r\n * @returns {vec2} out\r\n */\n\nexport function rotate(out, a, b, c) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(c),\n      cosC = Math.cos(c); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\r\n * Get the angle between two 2D vectors\r\n * @param {vec2} a The first operand\r\n * @param {vec2} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1];\n  var len1 = x1 * x1 + y1 * y1;\n\n  if (len1 > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len1 = 1 / Math.sqrt(len1);\n  }\n\n  var len2 = x2 * x2 + y2 * y2;\n\n  if (len2 > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len2 = 1 / Math.sqrt(len2);\n  }\n\n  var cosine = (x1 * x2 + y1 * y2) * len1 * len2;\n\n  if (cosine > 1.0) {\n    return 0;\n  } else if (cosine < -1.0) {\n    return Math.PI;\n  } else {\n    return Math.acos(cosine);\n  }\n}\n/**\r\n * Set the components of a vec2 to zero\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @returns {vec2} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {vec2} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return 'vec2(' + a[0] + ', ' + a[1] + ')';\n}\n/**\r\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\r\n *\r\n * @param {vec2} a The first vector.\r\n * @param {vec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {vec2} a The first vector.\r\n * @param {vec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\r\n * Alias for {@link vec2.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec2.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec2.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec2.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec2.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec2.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec2s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\nimport * as mat2 from \"./mat2.js\";\nimport * as mat2d from \"./mat2d.js\";\nimport * as mat3 from \"./mat3.js\";\nimport * as mat4 from \"./mat4.js\";\nimport * as quat from \"./quat.js\";\nimport * as quat2 from \"./quat2.js\";\nimport * as vec2 from \"./vec2.js\";\nimport * as vec3 from \"./vec3.js\";\nimport * as vec4 from \"./vec4.js\";\nexport { glMatrix, mat2, mat2d, mat3, mat4, quat, quat2, vec2, vec3, vec4 };","export interface Grid<T> {\n    readonly width: number;\n    readonly height: number;\n    at(x: number, y: number): T;\n}\n\nexport type GridCallback<T> = (x: number, y: number, val: T) => void;\nexport type GridMapper<T,U> = (x: number, y: number, val: T) => U;\n\nexport class WriteGrid<T> implements Grid<T> {\n    public readonly width: number;\n    public readonly height: number;\n\n    private vals: T[];\n\n    constructor(width: number, height: number) {\n        this.width = width;\n        this.height = height;\n        this.vals = new Array(width * height);\n    }\n\n    write(x: number, y: number, val: T): void {\n        this.vals[x + y*this.width] = val;\n    }\n\n    at(x: number, y: number): T {\n        return this.vals[x + y*this.width];\n    }\n\n    copyFrom(grid: Grid<T>): void {\n        for (let x = 0; x < this.width && x < grid.width; ++x) {\n            for (let y = 0; y < this.height && y < grid.height; ++y) {\n                this.write(x, y, grid.at(x, y));\n            }\n        }\n    }\n}\n\nexport const safeOutOfBounds = <T>(grid: Grid<T>, oobValue: T): Grid<T> => ({\n    width: grid.width,\n    height: grid.height,\n    at: (x, y) => x < 0 || y < 0 || x >= grid.width || y >= grid.width ? oobValue : grid.at(x, y)\n});\n\nexport const Grid = {\n    find: <T>(grid: Grid<T>, test: GridMapper<T, boolean>): { x: number, y: number } | null => {\n        for (let x = 0; x < grid.width; ++x) {\n            for (let y = 0; y < grid.height; ++y) {\n                if (test(x, y, grid.at(x, y))) {\n                    return { x, y };\n                }\n            }\n        }\n        return null;\n    },\n\n    forEach: <T>(grid: Grid<T>, fn: GridCallback<T>): void => {\n        for (let x = 0; x < grid.width; ++x) {\n            for (let y = 0; y < grid.height; ++y) {\n                fn(x, y, grid.at(x, y));\n            }\n        }\n    },\n\n    map: <T, U>(grid: Grid<T>, fn: GridMapper<T, U>): WriteGrid<U> => {\n        const result = new WriteGrid<U>(grid.width, grid.height);\n\n        for (let x = 0; x < grid.width; ++x) {\n            for (let y = 0; y < grid.height; ++y) {\n                result.write(x, y, fn(x, y, grid.at(x, y)));\n            }\n        }\n\n        return result;\n    },\n};","//foreach_shader import * as $ from './$.glsl';\nimport * as bufferCopy from './bufferCopy.glsl';//_generated\nimport * as cave from './cave.glsl';//_generated\nimport * as caveDemo from './caveDemo.glsl';//_generated\nimport * as flatWhite from './flatWhite.glsl';//_generated\nimport * as gaussianBlur from './gaussianBlur.glsl';//_generated\nimport * as normals from './normals.glsl';//_generated\nimport * as ship from './ship.glsl';//_generated\n\ninterface ShaderCollection {\n    //foreach_shader readonly $: WebGLShader;\n    readonly bufferCopy: WebGLShader;//_generated\n    readonly cave: WebGLShader;//_generated\n    readonly caveDemo: WebGLShader;//_generated\n    readonly flatWhite: WebGLShader;//_generated\n    readonly gaussianBlur: WebGLShader;//_generated\n    readonly normals: WebGLShader;//_generated\n    readonly ship: WebGLShader;//_generated\n}\n\nconst buildCollection = (gl: WebGLRenderingContext): ShaderCollection => ({\n    //foreach_shader $: compileShader(gl, '$', $),\n    bufferCopy: compileShader(gl, 'bufferCopy', bufferCopy),//_generated\n    cave: compileShader(gl, 'cave', cave),//_generated\n    caveDemo: compileShader(gl, 'caveDemo', caveDemo),//_generated\n    flatWhite: compileShader(gl, 'flatWhite', flatWhite),//_generated\n    gaussianBlur: compileShader(gl, 'gaussianBlur', gaussianBlur),//_generated\n    normals: compileShader(gl, 'normals', normals),//_generated\n    ship: compileShader(gl, 'ship', ship),//_generated\n});\n\nconst compiledShaders: { [canvasId: string]: ShaderCollection } = {};\n\nexport const getShaders = (gl: WebGLRenderingContext): ShaderCollection => {\n    if (! (gl.canvas.id in compiledShaders)) {\n        compiledShaders[gl.canvas.id] = buildCollection(gl);\n    }\n\n    return compiledShaders[gl.canvas.id];\n};\n\nconst errorHTML = (kind: 'vertex' | 'fragment', name: string, log: string): string => `\n    <h1>Error in ${kind} shader in \"${name}.glsl\"</h1>\n    <code>${log.replace(/\\n/g, '<br/>')}</code>\n`;\n\nconst compileShader = (gl: WebGLRenderingContext, name: string, body: string): WebGLProgram => {\n    const vertShader = gl.createShader(gl.VERTEX_SHADER) as WebGLShader;\n    gl.shaderSource(vertShader, '#define VERTEX\\n' + body + '\\n');\n    gl.compileShader(vertShader);\n\n    const vertLog = gl.getShaderInfoLog(vertShader);\n    if (vertLog === null || vertLog.length > 0) {\n        document.body.innerHTML = errorHTML('vertex', name, vertLog as string);\n        throw new Error('Error compiling shader: ' + name);\n    }\n\n    const fragShader = gl.createShader(gl.FRAGMENT_SHADER) as WebGLShader;\n    gl.shaderSource(fragShader, '#define FRAGMENT\\n' + body + '\\n');\n    gl.compileShader(fragShader);\n\n    const fragLog = gl.getShaderInfoLog(fragShader);\n    if (fragLog === null || fragLog.length > 0) {\n        document.body.innerHTML = errorHTML('fragment', name, fragLog as string);\n        throw new Error('Error compiling shader: ' + name);\n    }\n\n    const prog = gl.createProgram() as WebGLProgram;\n    gl.attachShader(prog, vertShader);\n    gl.attachShader(prog, fragShader);\n    gl.linkProgram(prog);\n\n    return prog;\n};\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","export class BufferRenderer {\n    private readonly gl: WebGLRenderingContext;\n    private readonly vertexBuffer: WebGLBuffer;\n    private readonly shader: WebGLProgram;\n\n    constructor(gl: WebGLRenderingContext, shader: WebGLProgram) {\n        this.gl = gl;\n        this.shader = shader;\n\n        this.vertexBuffer = gl.createBuffer() as WebGLBuffer;\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([ -1,1,-1,-1,1,-1,1,-1,1,1,-1,1 ]), gl.STATIC_DRAW);\n    }\n\n    draw(texture: WebGLTexture, onPreDraw?: (gl: WebGLRenderingContext, shader: WebGLProgram) => void) {\n        const gl = this.gl;\n\n        gl.useProgram(this.shader);\n\n        gl.activeTexture(gl.TEXTURE0);\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n        const loc_tex = gl.getUniformLocation(this.shader, \"u_tex\");\n        gl.uniform1i(loc_tex, 0);\n\n        if (onPreDraw) onPreDraw(gl, this.shader);\n\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n        const posLoc = gl.getAttribLocation(this.shader, \"i_position\");\n        gl.enableVertexAttribArray(posLoc);\n        gl.vertexAttribPointer(posLoc, 2, gl.FLOAT, false, 0, 0);\n\n        gl.drawArrays(gl.TRIANGLES, 0, 6);\n    }\n\n    release() {\n        const gl = this.gl;\n\n        gl.useProgram(null);\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\n\n        gl.deleteBuffer(this.vertexBuffer);\n    }\n}","import { vec3, quat, mat4 } from \"gl-matrix\";\n\nexport interface Transform {\n    position: vec3;\n    rotation: quat;\n    scale: vec3;\n}\n\nexport const Transform = {\n    create: (): Transform => ({\n        position: vec3.create(),\n        rotation: quat.create(),\n        scale: vec3.fromValues(1, 1, 1),\n    }),\n\n    toMatrix: (self: Readonly<Transform>, out: mat4): mat4 =>\n        mat4.fromRotationTranslationScale(out, self.rotation, self.position, self.scale),\n};","import { WriteGrid, Grid, safeOutOfBounds } from 'utils/grid';\nimport { runCellularAutomaton } from './automaton';\nimport { markEdges, findContours, EdgeMarkedMapTile, FindContoursResult } from './findContours';\nimport { smoothCurve } from './smoothCurve';\nimport { findBounds, RectTool } from 'utils/math';\nimport { triangulate } from './triangulate';\nimport { vec2 } from 'gl-matrix';\n\nexport interface Cave {\n    edges: vec2[][],\n    triangles: number[][],\n}\n\nexport interface CaveBuildDetails {\n    automatonResult: Grid<boolean>;\n    coloredGrid: Grid<number>;\n    filledGrid: Grid<boolean>;\n    edgeMarkedGrid: Grid<EdgeMarkedMapTile>;\n    findContoursResult: FindContoursResult;\n    outerMostContourIndex: number;\n    topLeftMostVertexIndex: number;\n}\n\nconst floodFill = (grid: WriteGrid<number>, x: number, y: number, replace: number, value: number, count: number): number => {\n    if (x < 0 || y < 0) return count;\n    if (x >= grid.width || y >= grid.height) return count;\n\n    const tile = grid.at(x, y);\n\n    if (tile === value) return count;\n    if (tile !== replace) return count;\n\n    grid.write(x, y, value);\n    count++;\n\n    count = floodFill(grid, x - 1, y, replace, value, count);\n    count = floodFill(grid, x + 1, y, replace, value, count);\n    count = floodFill(grid, x, y - 1, replace, value, count);\n    count = floodFill(grid, x, y + 1, replace, value, count);\n    return count;\n};\n\nconst colorGridRegions = (grid: WriteGrid<number>): number => {\n    let color = 1;\n    let largestColor = -1;\n    let largestRegion = 0;\n\n    while (true) {\n        const pos = Grid.find(grid, (x, y, val) => val === 0);\n        if (pos === null) return largestColor;\n\n        const size = floodFill(grid, pos.x, pos.y, 0, color, 0);\n\n        if (size > largestRegion) {\n            largestRegion = size;\n            largestColor = color;\n        }\n\n        color++;\n    }\n};\n\nconst fixSingleTileBridges = (grid: WriteGrid<boolean>): void => {\n    Grid.forEach(safeOutOfBounds(grid, true), (x, y, val) => {\n        if (!val) return;\n\n        if (val && !grid.at(x - 1, y) && !grid.at(x + 1, y)) {\n            grid.write(x + 1, y, true);\n        }\n\n        if (val && !grid.at(x, y - 1) && !grid.at(x, y + 1)) {\n            grid.write(x, y + 1, true);\n        }\n    });\n};\n\nexport const generateCave = (seed: number): Cave => \n    generateCaveVerbose(seed).cave;\n\nexport const generatePartialAutomatonResult = (seed: number, generation: number): Grid<boolean> =>\n    runCellularAutomaton(75, 75, seed, 0.48, 5, 4, generation);\n\nexport const generateCaveVerbose = (seed: number): { cave: Cave, details: CaveBuildDetails } => {\n    const automatonResult = runCellularAutomaton(75, 75, seed, 0.48, 5, 4, 30);\n\n    const coloredGrid = Grid.map(automatonResult, (x, y, val) => val ? -1 : 0);\n    const bigColor = colorGridRegions(coloredGrid);\n\n    const filledGrid = Grid.map(coloredGrid, (x, y, val) => val !== bigColor);\n    fixSingleTileBridges(filledGrid);\n\n    const edgeMarkedGrid = markEdges(filledGrid);\n\n    const findContoursResult = findContours(edgeMarkedGrid, 2);\n\n    const outerMostContourIndex = findContoursResult.contours\n        .map((c, i) => ({ i, area: RectTool.area(findBounds(c)) }))\n        .sort((a, b) => b.area - a.area)\n        [0].i;\n\n    const smoothContours = findContoursResult.contours.map(x => smoothCurve(x, 10, 0.7));\n\n    const BOUNDS = 1.0;\n\n    const mostTopLeft = (pts: vec2[]): number =>\n        pts.map((p, i) => ({ i, len: (p[0]+BOUNDS)*(p[0]+BOUNDS) + (p[1]+BOUNDS)*(p[1]+BOUNDS) }))\n            .sort((a, b) => a.len - b.len)\n            [0].i;\n\n    const topLeftPtI = mostTopLeft(smoothContours[outerMostContourIndex]);\n    const topLeftPt = smoothContours[outerMostContourIndex][topLeftPtI];\n    const topLeftPrevPt = smoothContours[outerMostContourIndex][topLeftPtI === 0 ? smoothContours[outerMostContourIndex].length - 1 : topLeftPtI - 1];\n\n    const bumpDownAmount = Math.abs(topLeftPt[1] - topLeftPrevPt[1]);\n\n    smoothContours[outerMostContourIndex].splice(topLeftPtI, 0,\n        vec2.fromValues( -BOUNDS,  -BOUNDS+bumpDownAmount),\n        vec2.fromValues( -BOUNDS,   BOUNDS),\n        vec2.fromValues(  BOUNDS,   BOUNDS),\n        vec2.fromValues(  BOUNDS,  -BOUNDS),\n        vec2.fromValues( -BOUNDS,  -BOUNDS),\n        vec2.fromValues( \n            (topLeftPt[0] + topLeftPrevPt[0]) / 2, \n            (topLeftPt[1] + topLeftPrevPt[1]) / 2\n        )\n    );\n\n    const triangles = smoothContours.map(triangulate);\n\n    smoothContours[outerMostContourIndex][topLeftPtI][1] -= bumpDownAmount;\n    smoothContours[outerMostContourIndex][topLeftPtI+5][0] = topLeftPrevPt[0];\n    smoothContours[outerMostContourIndex][topLeftPtI+5][1] = topLeftPrevPt[1];\n\n    return {\n        cave: {\n            edges: smoothContours,\n            triangles\n        },\n        details: {\n            automatonResult,\n            coloredGrid,\n            filledGrid,\n            edgeMarkedGrid,\n            findContoursResult,\n            outerMostContourIndex,\n            topLeftMostVertexIndex: topLeftPtI\n        }\n    };\n};\n","// https://en.wikipedia.org/wiki/Linear_congruential_generator\n\nconst M = 4294967296;\nconst A = 1664525;\nconst C = 1013904223;\n\nexport class PRNG {\n    static readonly MAX_SEED: number = M - 1;\n\n    static getRandomSeed(): number {\n        return Math.floor(Math.random() * M);\n    }\n\n    private seed: number;\n\n    constructor(seed?: number) {\n        if (typeof seed !== 'undefined') {\n            this.seed = Math.floor(seed) % M;\n        } else {\n            this.seed = PRNG.getRandomSeed();\n        }\n    }\n\n    next(): number {\n        this.seed = (A * this.seed + C) % M;\n        return this.seed / M;\n    }\n}","import { WriteGrid, Grid, safeOutOfBounds } from 'utils/grid';\nimport { smallestDifferenceRadians } from 'utils/math';\nimport { vec2 } from 'gl-matrix';\n\nexport interface EdgeMarkedMapTile {\n    kind: 'air' | 'dirt' | 'edge',\n    normal: number,\n}\n\nexport const markEdges = (grid: Grid<boolean>): WriteGrid<EdgeMarkedMapTile> => {\n    const result = Grid.map(grid, (x, y, val): EdgeMarkedMapTile => \n        ({ kind: val ? 'dirt' : 'air', normal: 0 }));\n\n    for (let x = 0; x < grid.width; x++) {\n        for (let y = 0; y < grid.height; y++) {\n            if (!grid.at(x, y)) continue;\n\n            const l = x > 0               && !grid.at(x-1, y);\n            const r = x < grid.width - 2  && !grid.at(x+1, y);\n            const u = y > 0               && !grid.at(x, y-1);\n            const d = y < grid.height - 2 && !grid.at(x, y+1);\n\n            if (!l && !r && !u && !d) continue;\n\n            const normal = r && d ? 45 :\n                d && l ?  135 :\n                l && u ? -135 :\n                u && r ?  -45 :\n                r ? 0 :\n                d ? 90 :\n                l ? 180 :\n                -90;\n\n            result.write(x, y, { kind: 'edge', normal });\n        }\n    }\n\n    return result;\n};\n\nexport enum WalkedStatus {\n    Unwalked,\n    Walked,\n    WalkedImportant,\n}\n\ninterface WalkCandidate {\n    dx: number,\n    dy: number,\n    normal: number,\n}\n\ninterface GridPoint {\n    x: number,\n    y: number,\n}\n\nexport interface FindContoursResult {\n    contours: vec2[][],\n    walkMap: WriteGrid<WalkedStatus>,\n}\n\nexport const findContours = (grid: Grid<EdgeMarkedMapTile>, spaceInsurance: 0 | 1 | 2): FindContoursResult => {\n    const MAX_ITER = 100;\n    const walkMap = Grid.map(new WriteGrid<WalkedStatus>(grid.width, grid.height), _ => WalkedStatus.Unwalked);\n    const contours: vec2[][] = [];\n\n    let iter = 0;\n    let newContour: vec2[] | null = null;\n\n    do {\n        newContour = findOneContour(walkMap, grid, spaceInsurance);\n        if (newContour !== null && newContour.length > 2) {\n            contours.push(newContour);\n        }\n    } while (newContour != null && iter++ < MAX_ITER);\n\n    return { contours, walkMap };\n}\n\nconst findFreshContour = (walkMap: Grid<WalkedStatus>, grid: Grid<EdgeMarkedMapTile>): GridPoint | null => {\n    for (let x = 0; x < grid.width; x++) {\n        for (let y = 0; y < grid.height; y++) {\n            if (grid.at(x, y).kind === 'edge' && walkMap.at(x, y) === WalkedStatus.Unwalked) {\n                return { x, y };\n            }\n        }\n    }\n\n    return null;\n};\n\nconst bestCandidate = (prev: WalkCandidate, candidates: WalkCandidate[]): WalkCandidate => {\n    let minVal = 100;\n    let minI = 0;\n\n    for (let i = 0; i < candidates.length; ++i) {\n        const c = candidates[i];\n        const d = Math.abs(smallestDifferenceRadians(\n            c.normal * Math.PI / 180,\n            prev.normal * Math.PI / 180\n        ));\n\n        if (d < minVal) {\n            minVal = d;\n            minI = i;\n        }\n    }\n\n    return candidates[minI];\n};\n\nconst findOneContour = (walkMap: WriteGrid<WalkedStatus>, grid: Grid<EdgeMarkedMapTile>, spaceInsurance: 0 | 1 | 2): vec2[] | null => {\n    const MAX_ITER = 5000;\n\n    const freshStart = findFreshContour(walkMap, grid);\n    if (freshStart === null) {\n        return null;\n    }\n\n    grid = safeOutOfBounds(grid, {kind: 'dirt', normal: 0} as EdgeMarkedMapTile);\n\n    const points: vec2[] = [];\n    let x = freshStart.x;\n    let y = freshStart.y;\n\n    let iter = 0;\n    let lastCan: WalkCandidate = { dx: 0, dy: 0, normal: 0 };\n    let lastStatus = WalkedStatus.Walked;\n    let candidates: WalkCandidate[] = [];\n\n    do {\n        candidates = [];\n\n        for (let dx = -1; dx <= 1; dx++) {\n            for (let dy = -1; dy <= 1; dy++) {\n                if (dx === 0 && dy === 0) continue;\n                if (grid.at(x+dx, y+dy).kind === 'edge'\n                && walkMap.at(x+dx, y+dy) === WalkedStatus.Unwalked) {\n                    candidates.push({dx, dy, normal: grid.at(x+dx, y+dy).normal});\n                }\n            }\n        }\n\n        if (candidates.length > 0) {\n            const c = bestCandidate(lastCan, candidates);\n            x += c.dx;\n            y += c.dy;\n\n            let newStatus = WalkedStatus.Walked;\n            if (c.normal !== lastCan.normal) {\n                let important;\n                if (spaceInsurance === 0) {\n                    important = true;\n                } else if (spaceInsurance === 1) {\n                    important = c.dx != 0 && c.dy != 0 || lastStatus != WalkedStatus.WalkedImportant;\n                } else {\n                    important = lastStatus != WalkedStatus.WalkedImportant;\n                }\n\n                if (important) {\n                    newStatus = WalkedStatus.WalkedImportant;\n                }\n            }\n\n            if (newStatus === WalkedStatus.WalkedImportant) {\n                points.push(vec2.fromValues(\n                    2*(x + 0.5)/grid.width - 1,\n                    2*(y + 0.5)/grid.height - 1,\n                ));\n            }\n\n            walkMap.write(x, y, newStatus);\n            lastStatus = newStatus;\n            lastCan = c;\n        }\n    }\n    while (candidates.length > 0 && iter++ < MAX_ITER);\n\n    return points;\n};","import { vec2 } from \"gl-matrix\";\n\nexport interface Rect {\n    xmin: number,\n    ymin: number,\n    xmax: number,\n    ymax: number,\n}\n\nexport const RectTool = {\n    area: (r: Rect): number =>\n        (r.xmax - r.xmin) * (r.ymax - r.ymin),\n};\n\nexport const smallestDifferenceRadians = (a: number, b: number): number => {\n    a %= 2 * Math.PI;\n    b %= 2 * Math.PI;\n\n    if (Math.abs(a - b) > Math.PI) {\n        if (a > 0) a -= 2 * Math.PI;\n        else a += 2 * Math.PI;\n    }\n\n    return a - b;\n};\n\nexport const findBounds = (pts: ReadonlyArray<vec2>): Rect => {\n    const result: Rect = { xmin: Infinity, ymin: Infinity, xmax: -Infinity, ymax: -Infinity };\n\n    pts.forEach(p => {\n        if (p[0] < result.xmin) result.xmin = p[0];\n        if (p[1] < result.ymin) result.ymin = p[1];\n        if (p[0] > result.xmax) result.xmax = p[0];\n        if (p[1] > result.ymax) result.ymax = p[1];\n    });\n\n    return result;\n};","import { Cave } from 'caveGenerator';\nimport flatten = require('lodash/flatten');\nimport { getShaders } from 'shaders';\nimport { BufferRenderer } from './bufferRenderer';\nimport { GaussianBlur } from './gaussianBlur';\nimport { FrameBufferTexture } from './frameBufferTexture';\nimport { mat4, vec3 } from 'gl-matrix';\nimport { Camera } from './camera';\n\nexport interface SurfaceInfoBuffers {\n    readonly depth: WebGLTexture,\n    readonly normal: WebGLTexture,\n}\n\nconst getFlatVerts = (cave: Cave): number[] =>\n    flatten(flatten(cave.edges).map(x => [x[0], -x[1]]));\n\nconst getFlatIndices = (cave: Cave): number[] => {\n    let baseCount = 0;\n    let result: number[] = [];\n\n    cave.triangles.forEach((tris, index) => {\n        result = result.concat(tris.map(x => x + baseCount));\n        baseCount += cave.edges[index].length;\n    });\n\n    result.reverse();\n\n    return result;\n};\n\nconst mxa = mat4.create();\nconst mxb = mat4.create();\n\nexport class CaveRenderer {\n    static readonly SURFACE_INFO_BUFFER_SIZE = 1024;\n    static readonly CAVE_SIZE = 20;\n    private static readonly CAVE_SCALE: vec3 = vec3.fromValues(CaveRenderer.CAVE_SIZE, CaveRenderer.CAVE_SIZE, CaveRenderer.CAVE_SIZE);\n\n    private readonly gl: WebGLRenderingContext;\n    private readonly vertexBuffer: WebGLBuffer;\n    private readonly indexBuffer: WebGLBuffer;\n    private readonly indexBufferLen: number;\n    private readonly normalsTexture: WebGLTexture | null;\n    private readonly _surfaceInfoBuffers: SurfaceInfoBuffers;\n\n    constructor(gl: WebGLRenderingContext, cave: Cave, normalsTexture: WebGLTexture | null) {\n        this.gl = gl;\n        this.normalsTexture = normalsTexture;\n\n        this.vertexBuffer = gl.createBuffer() as WebGLBuffer;\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(getFlatVerts(cave)), gl.STATIC_DRAW);\n\n        const indexBufferData = getFlatIndices(cave);\n        this.indexBufferLen = indexBufferData.length;\n\n        this.indexBuffer = gl.createBuffer() as WebGLBuffer;\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(indexBufferData), gl.STATIC_DRAW);\n\n        this._surfaceInfoBuffers = this.buildSurfaceInfoBuffers(CaveRenderer.SURFACE_INFO_BUFFER_SIZE);\n    }\n\n    private buildSurfaceInfoBuffers(size: number): SurfaceInfoBuffers {\n        const gl = this.gl;\n        const normalsBlit = new BufferRenderer(gl, getShaders(gl).normals);\n        const gaussBlur0 = new GaussianBlur(gl, size, size);\n        const gaussBlur1 = new GaussianBlur(gl, size, size);\n        const frameBufferTex = new FrameBufferTexture(gl, size, size);\n        const flatWhiteShader = getShaders(gl).flatWhite;\n\n        gl.bindFramebuffer(gl.FRAMEBUFFER, frameBufferTex.framebuffer);\n        gl.viewport(0, 0, size, size);\n        gl.clearColor(0, 0, 0, 1);\n        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n\n        gl.useProgram(flatWhiteShader);\n\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n        const posLoc = gl.getAttribLocation(flatWhiteShader, \"i_position\");\n        gl.enableVertexAttribArray(posLoc);\n        gl.vertexAttribPointer(posLoc, 2, gl.FLOAT, false, 0, 0);\n\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);\n        gl.drawElements(gl.TRIANGLES, this.indexBufferLen, gl.UNSIGNED_SHORT, 0);\n\n        gaussBlur0.run(frameBufferTex.texture, 30);\n\n        gl.bindFramebuffer(gl.FRAMEBUFFER, frameBufferTex.framebuffer);\n        gl.viewport(0, 0, size, size);\n\n        normalsBlit.draw(gaussBlur0.resultTexture, (gl, shader) => {\n            gl.uniform2f(gl.getUniformLocation(shader, \"u_resolution\"), size, size);\n        });\n\n        gaussBlur1.run(frameBufferTex.texture, 2);\n\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\n\n        normalsBlit.release();\n        const depth = gaussBlur0.releaseTexture();\n        const normal = gaussBlur1.releaseTexture();\n\n        return { depth, normal };\n    };\n\n    get surfaceInfoBuffers() {\n        return this._surfaceInfoBuffers;\n    }\n\n    drawDemo(t: number, zoom: number, x: number, y: number) {\n        const gl = this.gl;\n        const shader = getShaders(gl).caveDemo;\n\n        gl.useProgram(shader);\n\n        gl.uniform1f(gl.getUniformLocation(shader, \"u_time\"), t);\n        gl.uniform1f(gl.getUniformLocation(shader, \"u_zoom\"), zoom);\n        gl.uniform2f(gl.getUniformLocation(shader, \"u_pointLightPos\"), x, y);\n\n        gl.activeTexture(gl.TEXTURE0);\n        gl.bindTexture(gl.TEXTURE_2D, this._surfaceInfoBuffers.depth);\n        gl.uniform1i(gl.getUniformLocation(shader, \"u_depth\"), 0);\n\n        gl.activeTexture(gl.TEXTURE1);\n        gl.bindTexture(gl.TEXTURE_2D, this._surfaceInfoBuffers.normal);\n        gl.uniform1i(gl.getUniformLocation(shader, \"u_normal\"), 1);\n\n        gl.activeTexture(gl.TEXTURE2);\n        gl.bindTexture(gl.TEXTURE_2D, this.normalsTexture);\n        gl.uniform1i(gl.getUniformLocation(shader, \"u_normalRocks\"), 2);\n\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n        const posLoc = gl.getAttribLocation(shader, \"i_position\");\n        gl.enableVertexAttribArray(posLoc);\n        gl.vertexAttribPointer(posLoc, 2, gl.FLOAT, false, 0, 0);\n\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);\n        gl.drawElements(gl.TRIANGLES, this.indexBufferLen, gl.UNSIGNED_SHORT, 0);\n    }\n\n    draw(camera: Camera, shipWorldPos: vec3) {\n        const gl = this.gl;\n        const shader = getShaders(gl).cave;\n\n        gl.useProgram(shader);\n\n        mat4.identity(mxa); // mxa -> MVP matrix\n        mat4.scale(mxa, mxa, CaveRenderer.CAVE_SCALE);\n        gl.uniformMatrix4fv(gl.getUniformLocation(shader, \"u_model\"), false, mxa);\n\n        Camera.getViewMatrix(camera, mxb);\n        mat4.mul(mxa, mxb, mxa);\n        Camera.getProjectionMatrix(camera, mxb);\n        mat4.mul(mxa, mxb, mxa);\n        gl.uniformMatrix4fv(gl.getUniformLocation(shader, \"u_mvp\"), false, mxa);\n\n        gl.uniform1f(gl.getUniformLocation(shader, \"u_time\"), 0);\n        gl.uniform3fv(gl.getUniformLocation(shader, \"u_shipWorldPos\"), shipWorldPos);\n\n        gl.activeTexture(gl.TEXTURE0);\n        gl.bindTexture(gl.TEXTURE_2D, this._surfaceInfoBuffers.depth);\n        gl.uniform1i(gl.getUniformLocation(shader, \"u_depth\"), 0);\n\n        gl.activeTexture(gl.TEXTURE1);\n        gl.bindTexture(gl.TEXTURE_2D, this._surfaceInfoBuffers.normal);\n        gl.uniform1i(gl.getUniformLocation(shader, \"u_normal\"), 1);\n\n        gl.activeTexture(gl.TEXTURE2);\n        gl.bindTexture(gl.TEXTURE_2D, this.normalsTexture);\n        gl.uniform1i(gl.getUniformLocation(shader, \"u_normalRocks\"), 2);\n\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n        const posLoc = gl.getAttribLocation(shader, \"i_position\");\n        gl.enableVertexAttribArray(posLoc);\n        gl.vertexAttribPointer(posLoc, 2, gl.FLOAT, false, 0, 0);\n\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);\n        gl.drawElements(gl.TRIANGLES, this.indexBufferLen, gl.UNSIGNED_SHORT, 0);\n    }\n\n    release() {\n        const gl = this.gl;\n\n        gl.useProgram(null);\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\n\n        gl.deleteBuffer(this.vertexBuffer);\n        gl.deleteBuffer(this.indexBuffer);\n\n        // TODO delete the surface info buffers\n    }\n}\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","export class FrameBufferTexture {\n    readonly framebuffer: WebGLFramebuffer;\n    readonly texture: WebGLTexture;\n\n    private readonly gl: WebGLRenderingContext;\n\n    constructor(gl: WebGLRenderingContext, width: number, height: number) {\n        this.gl = gl;\n\n        this.framebuffer = gl.createFramebuffer() as WebGLFramebuffer;\n        gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);\n        \n        this.texture = gl.createTexture() as WebGLTexture;\n        gl.bindTexture(gl.TEXTURE_2D, this.texture);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGB, width, height, 0, gl.RGB, gl.UNSIGNED_BYTE, null);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR); \n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n        \n        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.texture, 0); \n    }\n\n    release() {\n        const gl = this.gl;\n\n        gl.bindTexture(gl.TEXTURE_2D, null);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\n        gl.deleteTexture(this.texture);\n        gl.deleteFramebuffer(this.framebuffer);\n    }\n\n    releaseTexture(): WebGLTexture {\n        const gl = this.gl;\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        gl.deleteFramebuffer(this.framebuffer);\n\n        return this.texture;\n    }\n}\n","export const loadTexture = (gl: WebGLRenderingContext, url: string, glWrapMode?: number): Promise<WebGLTexture> =>\n    new Promise((resolve, reject) => {\n        const image = new Image();\n        image.onload = () => {\n            const texture = gl.createTexture();\n\n            gl.bindTexture(gl.TEXTURE_2D, texture);\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\n\n            const wrapMode = typeof glWrapMode === 'undefined' ? gl.CLAMP_TO_EDGE : glWrapMode;\n\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR); \n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, wrapMode);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, wrapMode);\n\n            resolve(texture as WebGLTexture);\n        };\n        image.src = url;\n    });","import { initPost as initPost_vectorCaves } from 'pages/vector-caves';\nimport { initGame  }from 'pages/game';\n\nconst postInitters: {[key: string]: () => void} = {\n    'vector-caves': initPost_vectorCaves,\n};\n\n(window as any).initPost = (name: string): void =>\n    postInitters[name]();\n\n(window as any).initGame = initGame;","import { generateCaveVerbose, generatePartialAutomatonResult } from 'caveGenerator';\nimport { Grid } from 'utils/grid';\nimport { WalkedStatus } from 'caveGenerator/findContours';\nimport { vec2 } from 'gl-matrix';\nimport { Cave } from 'caveGenerator';\nimport { CaveRenderer } from \"webgl/caveRenderer\";\nimport { BufferRenderer } from 'webgl/bufferRenderer';\nimport { loadTexture } from 'webgl/textureLoader';\nimport { getShaders } from 'shaders';\nimport { PRNG } from 'utils/prng';\n\nconst drawInfoBufferDemo = (cave: Cave, kind: 'depth'|'normal', gl: WebGLRenderingContext): void => {\n    const infoBuffers = new CaveRenderer(gl, cave, null).surfaceInfoBuffers;\n    const copyBlit = new BufferRenderer(gl, getShaders(gl).bufferCopy);\n\n    copyBlit.draw(kind === 'depth' ? infoBuffers.depth : infoBuffers.normal);\n\n    copyBlit.release();\n    gl.deleteTexture(infoBuffers.depth);\n    gl.deleteTexture(infoBuffers.normal);\n};\n\nconst drawDetailedCaveDemo = (cave: Cave, gl: WebGLRenderingContext): void => {\n    const mousePos = {x: 0, y: 0};\n    let mouseDown = false;\n    let zoomT = 0;\n\n    gl.canvas.onmousemove = e => {\n        const rect = gl.canvas.getBoundingClientRect();\n        console.log(rect);\n        mousePos.x = (e.clientX - rect.left) / gl.canvas.width;\n        mousePos.y = 1 - (e.clientY - rect.top)  / gl.canvas.height;\n    };\n\n    gl.canvas.onmousedown = _ => mouseDown = true;\n    gl.canvas.onmouseleave = \n        gl.canvas.onmouseout =\n        gl.canvas.onmouseup = _ => mouseDown = false; \n\n    loadTexture(gl, \"caveWalls.png\", gl.REPEAT)\n    .then(normTex => {\n        const caveRenderer = new CaveRenderer(gl, cave, normTex);\n        const startTime = Date.now();\n\n        const render = (): void => {\n            gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\n            gl.clearColor(0, 0, 0, 1);\n            gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n\n            const t = Date.now() - startTime;\n            if (mouseDown) zoomT += 0.02;\n            const zoom = 0.55 + 0.45 * Math.cos(zoomT);\n\n            caveRenderer.drawDemo(t, zoom, mousePos.x, mousePos.y);\n\n            requestAnimationFrame(render);\n        };\n\n        requestAnimationFrame(render);\n        //caveRenderer.release();\n    });\n};\n\nconst randomColorHex = (): string => {\n    const randPair = (): string => {\n        let ret = Math.floor(Math.random() * 256).toString(16);\n        if (ret.length < 2) ret = '0'+ret;\n        return ret;\n    };\n\n    return '#' + randPair() + randPair() + randPair();\n};\n\nconst colors = [0,0,0,0,0,0,0,0,0,0].map(_ => randomColorHex());\n\nconst gridColorForNumber = (n: number): string => {\n    if (n < 0) return '#000';\n    return colors[n % colors.length];\n};\n\nconst gridColorForNormal = (degs: number): string => {\n    const x = Math.cos(degs * Math.PI / 180);\n    const y = Math.sin(degs * Math.PI / 180);\n\n    const hx = Math.round(15 * (0.5*x + 0.5));\n    const hy = Math.round(15 * (0.5*y + 0.5));\n\n    const result = '#' + hx.toString(16) + hy.toString(16) + 'f';\n\n    return result;\n};\n\nconst multibind = (objs: any[], events: string[], listener: Function): void => {\n    objs.forEach(o => {\n        events.forEach(e => {\n            o[e] = listener;\n        });\n    });\n};\n\nexport const initPost = () :void => {\n    let seed: number;\n    let caveCache: any = null;\n\n    const genSlider = document.getElementById('gen-slider') as HTMLInputElement;\n\n    const ctx0 = (document.getElementById('zeroth-canvas') as HTMLCanvasElement).getContext('2d') as CanvasRenderingContext2D;\n    const ctx  = (document.getElementById('first-canvas') as HTMLCanvasElement).getContext('2d') as CanvasRenderingContext2D;\n    const ctx2 = (document.getElementById('second-canvas') as HTMLCanvasElement).getContext('2d') as CanvasRenderingContext2D;\n    const ctx3 = (document.getElementById('third-canvas') as HTMLCanvasElement).getContext('2d') as CanvasRenderingContext2D;\n    const ctx4 = (document.getElementById('fourth-canvas') as HTMLCanvasElement).getContext('2d') as CanvasRenderingContext2D;\n    const ctx5 = (document.getElementById('fifth-canvas') as HTMLCanvasElement).getContext('2d') as CanvasRenderingContext2D;\n    const ctx6 = (document.getElementById('sixth-canvas') as HTMLCanvasElement).getContext('2d') as CanvasRenderingContext2D;\n    const ctx7 = (document.getElementById('seventh-canvas') as HTMLCanvasElement).getContext('2d') as CanvasRenderingContext2D;\n    const ctx9 = (document.getElementById('ninth-canvas') as HTMLCanvasElement).getContext('2d') as CanvasRenderingContext2D;\n\n    const updatePartialAutomatonResult = () :void => {\n        const generation =parseFloat(genSlider.value);\n        const grid = generatePartialAutomatonResult(seed, generation);\n\n        Grid.forEach(grid, (x, y, val) => {\n            ctx0.fillStyle = val ? '#000' : '#FFF';\n            ctx0.fillRect(4*x, 4*y, 4, 4);\n        });\n    };\n\n    const update = () :void => {\n        seed = PRNG.getRandomSeed();\n\n        updatePartialAutomatonResult();\n\n        const { cave, details } = generateCaveVerbose(seed);\n        caveCache = cave;\n\n        Grid.forEach(details.automatonResult, (x, y, val) => {\n            ctx.fillStyle = val ? '#000' : '#FFF';\n            ctx.fillRect(4*x, 4*y, 4, 4);\n        });\n\n        Grid.forEach(details.coloredGrid, (x, y, val) => {\n            ctx2.fillStyle = gridColorForNumber(val);\n            ctx2.fillRect(4*x, 4*y, 4, 4);\n        });\n\n        Grid.forEach(details.filledGrid, (x, y, val) => {\n            ctx3.fillStyle = val ? '#000' : '#FFF';\n            ctx3.fillRect(4*x, 4*y, 4, 4);\n        });\n\n        Grid.forEach(details.edgeMarkedGrid, (x, y, val) => {\n            ctx4.fillStyle = val.kind === 'edge' ? gridColorForNormal(val.normal) : val.kind === 'air' ? '#655' : '#77f';\n            ctx4.fillRect(4*x, 4*y, 4, 4);\n        });\n\n        const contours = details.findContoursResult;\n\n        Grid.forEach(contours.walkMap, (x, y, val) => {\n            ctx5.fillStyle = val === WalkedStatus.WalkedImportant ? '#fff' : val === WalkedStatus.Walked ? '#333' : '#000';\n            ctx5.fillRect(4*x, 4*y, 4, 4);\n\n            ctx6.fillStyle = val === WalkedStatus.WalkedImportant ? '#333' : '#000';\n            ctx6.fillRect(9*x, 9*y, 9, 9);\n        });\n\n        const BIG_CANVAS_SIZE = 675;\n\n        const curveSpaceToCanvasSpace = (pt: vec2): vec2 => vec2.fromValues(\n            (BIG_CANVAS_SIZE / 2) * (1 + pt[0]),\n            (BIG_CANVAS_SIZE / 2) * (1 + pt[1])\n        );\n\n        // =--------------------------------------------\n\n        contours.contours.forEach((c, i) => {\n            ctx6.strokeStyle = i === details.outerMostContourIndex ? '#f00' : '#933';\n\n            ctx6.beginPath();\n            const first = curveSpaceToCanvasSpace(c[0]);\n            ctx6.moveTo(first[0], first[1]);\n\n            for (let i = 1; i < c.length; ++i) {\n                const next = curveSpaceToCanvasSpace(c[i]);\n                ctx6.lineTo(next[0], next[1]);\n            }\n\n            ctx6.closePath();\n            ctx6.stroke();\n        });\n\n        // =--------------------------------------------\n\n        ctx7.strokeStyle = '#0f0';\n        ctx7.fillStyle = '#000';\n        ctx7.fillRect(0, 0, BIG_CANVAS_SIZE, BIG_CANVAS_SIZE);\n\n\n        cave.edges.forEach((c, i) => {\n            ctx7.strokeStyle = i === details.outerMostContourIndex ? '#0f0' : '#393';\n\n            ctx7.beginPath();\n            const first = curveSpaceToCanvasSpace(c[0]);\n            ctx7.moveTo(first[0], first[1]);\n\n            for (let i = 1; i < c.length; ++i) {\n                const next = curveSpaceToCanvasSpace(c[i]);\n                ctx7.lineTo(next[0], next[1]);\n            }\n\n            ctx7.closePath();\n            ctx7.stroke();\n        });\n\n        // =--------------------------------------------\n\n        ctx9.fillStyle = '#000';\n        ctx9.fillRect(0, 0, BIG_CANVAS_SIZE, BIG_CANVAS_SIZE);\n\n        cave.triangles.forEach((ts,j) => {\n            for (let i = 0; i < ts.length - 2; i += 3) {\n                ctx9.fillStyle = randomColorHex();\n                ctx9.beginPath();\n\n                const first = curveSpaceToCanvasSpace(cave.edges[j][ts[i]]);\n                ctx9.moveTo(first[0], first[1]);\n\n                [1, 2, 0].forEach(o => {\n                    const a = curveSpaceToCanvasSpace(cave.edges[j][ts[i+o]]);\n                    ctx9.lineTo(a[0], a[1]);\n                })\n\n                ctx9.fill();\n            }\n        });\n    };\n\n    multibind([genSlider], ['oninput', 'onchange'], updatePartialAutomatonResult);\n    (document.getElementById('generate-new') as HTMLButtonElement).onclick = update;\n    update();\n\n    // TODO regenerate webgl contexts and contents when \"generate-new\" is clicked\n    const gl = [0,1,2].map(x => (document.getElementById('canvas'+x) as HTMLCanvasElement).getContext('webgl') as WebGLRenderingContext);\n    drawInfoBufferDemo(caveCache, 'depth', gl[0]);\n    drawInfoBufferDemo(caveCache, 'normal', gl[1]);\n    drawDetailedCaveDemo(caveCache, gl[2])\n};\n","import { PRNG } from 'utils/prng';\nimport { WriteGrid, Grid } from 'utils/grid';\n\nconst getNeighborhood = (map: Grid<boolean>, x: number, y: number): number => {\n    let result: number = 0;\n\n    for (let nx = x-1; nx <= x+1; ++nx) {\n        for (let ny = y-1; ny <= y+1; ++ny) {\n            if (nx == x && ny == y) continue;\n            if (nx < 1 || ny < 1 || nx >= map.width-1 || ny >= map.height-1) result++;\n            else result += map.at(nx,ny) ? 1 : 0;\n        }\n    }\n\n    return result;\n}\n\nexport const runCellularAutomaton = (width: number, height: number, seed: number, population: number, birth: number, survival: number, iterations: number): Grid<boolean> => {\n    const result = new WriteGrid<boolean>(width, height);\n    const buffer = new WriteGrid<boolean>(width, height);\n    const rng = new PRNG(seed);\n\n    for (let x = 0; x < width; ++x) {\n        for (let y = 0; y < height; ++y) {\n            const fill = x === 0 || y === 0 || x === width-1 || y === height-1 || rng.next() < population;\n            result.write(x, y, fill);\n            buffer.write(x, y, fill);\n        }\n    }\n\n    for (let i = 0; i < iterations; ++i) {\n        for (let x = 1; x < width-1; ++x) {\n            for (let y = 1; y < height-1; ++y) {\n                const neighbors = getNeighborhood(result, x, y);\n                buffer.write(x, y, neighbors >= (result.at(x, y) ? survival : birth));\n            }\n        }\n        result.copyFrom(buffer);\n    }\n\n    return result;\n}","import { vec2 } from \"gl-matrix\";\n\ninterface Pt {\n    pt: vec2,\n    controlA: vec2,\n    controlB: vec2,\n}\n\nexport const smoothCurve = (input: ReadonlyArray<vec2>, resolution: number, curviness: number): vec2[] => {\n    const pts: Pt[] = [];\n\n    if (resolution < 1) resolution = 1;\n\n    for (let i = 0; i < input.length; ++i) {\n        const prev = input[i == 0 ? input.length-1 : i-1];\n        const curr = input[i];\n        const next = input[(i + 1) % input.length];\n\n        const lenA = vec2.length(vec2.sub(vec2.create(), prev, curr));\n        const lenB = vec2.length(vec2.sub(vec2.create(), curr, next));\n\n        let midA = vec2.add(vec2.create(), prev, curr);\n        vec2.scale(midA, midA, 0.5);\n\n        let midB = vec2.add(vec2.create(), curr, next);\n        vec2.scale(midB, midB, 0.5);\n\n        let midDiff = vec2.sub(vec2.create(), midA, midB);\n        vec2.scale(midDiff, midDiff, curviness);\n\n        const diffA = vec2.scale(vec2.create(), midDiff,  lenA / (lenA + lenB));\n        const diffB = vec2.scale(vec2.create(), midDiff, -lenB / (lenA + lenB));\n\n        pts.push({\n            pt: curr,\n            controlA: vec2.add(vec2.create(), diffA, curr),\n            controlB: vec2.add(vec2.create(), diffB, curr),\n        });\n    }\n\n    const inc = 1 / resolution;\n\n    const result: vec2[] = [];\n    for (let i = 0; i < pts.length; ++i) {\n        const curr = pts[i];\n        const next = pts[(i + 1) % pts.length];\n\n        for (let t = 0; t < 1 - (inc / 2); t += inc) {\n            let newVal: vec2 = vec2.fromValues(0, 0);\n\n            vec2.scaleAndAdd(newVal, newVal, curr.pt       , (1-t)*(1-t)*(1-t));\n            vec2.scaleAndAdd(newVal, newVal, curr.controlB , 3*(1-t)*(1-t)*t);\n            vec2.scaleAndAdd(newVal, newVal, next.controlA , 3*(1-t)*t*t);\n            vec2.scaleAndAdd(newVal, newVal, next.pt       , t*t*t);\n\n            result.push(newVal);\n        }\n    }\n\n    return result;\n};","import { vec2 } from 'gl-matrix';\n\nexport const triangulate = (points: ReadonlyArray<vec2>): number[] => {\n    const indices: number[] = [];\n    const n = points.length;\n    if (n < 3) return indices;\n\n    const V: number[] = new Array(n);\n    if (area(points) > 0) {\n        for (let v = 0; v < n; v++) V[v] = v;\n    } else {\n        for (let v = 0; v < n; v++) V[v] = (n - 1) - v;\n    }\n\n    let nv = n;\n    let count = 2 * nv;\n    for (let v = nv - 1; nv > 2; ) {\n        if ((count--) <= 0) return indices;\n\n        let u = v;\n        if (nv <= u) u = 0;\n        v = u + 1;\n        if (nv <= v) v = 0;\n        let w = v + 1;\n        if (nv <= w) w = 0;\n\n        if (snip(points, u, v, w, nv, V)) {\n            indices.push(V[u]);\n            indices.push(V[v]);\n            indices.push(V[w]);\n            for (let s = v, t = v + 1; t < nv; s++, t++) V[s] = V[t];\n            nv--;\n            count = 2 * nv;\n        }\n    }\n\n    return indices;\n};\n\nconst area = (points: ReadonlyArray<vec2>): number => {\n    let A = 0;\n    for (let p = points.length - 1, q = 0; q < points.length; p = q++) {\n        A += points[p][0] * points[q][1] - points[q][0] * points[p][1];\n    }\n    return A / 2;\n};\n\nconst inside_triangle = (A: vec2, B: vec2, C: vec2, P: vec2): boolean => {\n    const ax = C[0] - B[0], ay = C[1] - B[1];\n    const bx = A[0] - C[0], by = A[1] - C[1];\n    const cx = B[0] - A[0], cy = B[1] - A[1];\n    const apx = P[0] - A[0], apy = P[1] - A[1];\n    const bpx = P[0] - B[0], bpy = P[1] - B[1];\n    const cpx = P[0] - C[0], cpy = P[1] - C[1];\n\n    const aCROSSbp = ax * bpy - ay * bpx;\n    const cCROSSap = cx * apy - cy * apx;\n    const bCROSScp = bx * cpy - by * cpx;\n\n    return aCROSSbp >= 0 && bCROSScp >= 0 && cCROSSap >= 0;\n};\n\nconst snip = (points: ReadonlyArray<vec2>, u: number, v: number, w: number, n: number, V: number[]): boolean => {\n    const A = points[V[u]];\n    const B = points[V[v]];\n    const C = points[V[w]];\n\n    const pdiff = (B[0] - A[0]) * (C[1] - A[1]) - (B[1] - A[1]) * (C[0] - A[0]);\n    if (pdiff < 1e-7) return false;\n\n    for (let p = 0; p < n; p++) {\n        if ((p == u) || (p == v) || (p == w)) continue;\n        const P = points[V[p]];\n        if (inside_triangle(A, B, C, P)) return false;\n    }\n\n    return true;\n};","var baseFlatten = require('./_baseFlatten');\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nmodule.exports = flatten;\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","module.exports = \"precision highp float;\\n\\nuniform sampler2D u_tex;\\n\\nvarying vec2 v_uv;\\n\\n#ifdef VERTEX\\n\\n    attribute vec2 i_position;\\n\\n    void main()\\n    {\\n        gl_Position = vec4(i_position, 0, 1);\\n        v_uv = i_position.xy*0.5 + 0.5;\\n    }\\n\\n#endif\\n#ifdef FRAGMENT\\n\\n    void main()\\n    {\\n        gl_FragColor = texture2D(u_tex, v_uv);\\n    }\\n\\n#endif\\n\"","module.exports = \"precision highp float;\\n\\nuniform mat4 u_model;\\nuniform mat4 u_mvp;\\nuniform sampler2D u_depth;\\nuniform sampler2D u_normal;\\nuniform sampler2D u_normalRocks;\\nuniform float u_time;\\nuniform vec3 u_shipWorldPos;\\n\\nvarying vec2 v_uv;\\nvarying vec4 v_worldPos;\\n\\n#ifdef VERTEX\\n\\n    attribute vec2 i_position;\\n\\n    void main()\\n    {\\n        v_uv = i_position*0.5 + 0.5;\\n        v_worldPos = u_model * vec4(i_position, 0, 1);\\n        gl_Position = u_mvp * vec4(i_position, 0, 1);\\n    }\\n\\n#endif\\n#ifdef FRAGMENT\\n\\n    #define BASE_RADIUS 0.25\\n    #define FADE_RADIUS 2.75\\n\\n    mat3 axisAngle(vec3 normalizedAxis, float angle)\\n    {\\n        float x = normalizedAxis.x;\\n        float y = normalizedAxis.y;\\n        float z = normalizedAxis.z;\\n        float s = sin(angle);\\n        float c = cos(angle);\\n        float t = 1. - c;\\n\\n        return mat3(\\n            t*x*x + c   , t*x*y - z*s , t*x*z + y*s ,\\n            t*x*y + z*s , t*y*y + c   , t*y*z - x*s ,\\n            t*x*z - y*s , t*y*z + x*s , t*z*z + c\\n        );\\n    }\\n\\n    float ptLightAmount(vec2 pos, vec2 normal)\\n    {\\n        vec2 toPtLight = pos - u_shipWorldPos.xy;\\n        float intensity = clamp((1. + BASE_RADIUS) - length(toPtLight) / FADE_RADIUS, 0., 1.);\\n        float reflectedLight = clamp(dot(normalize(toPtLight), normal), 0., 1.);\\n        return intensity * reflectedLight;\\n    }\\n\\n    void main()\\n    {\\n        float sint = 1.;//0.5+0.5*sin(u_time/500.);\\n\\n        vec2 surfDir = 2.*texture2D(u_normal, v_uv).rg - 1.;\\n        float surfDepth = clamp(1.- texture2D(u_depth, v_uv).r, 0., 1.);\\n        surfDepth *= surfDepth;\\n\\n        vec2 uv1 = v_uv - sint*surfDir*asin(surfDepth*0.05);\\n        vec2 lookup = uv1;\\n        lookup.x = 1. - lookup.x;\\n        lookup.y = 1. - lookup.y;\\n        vec2 normalRocks2d = 2.*texture2D(u_normalRocks, 5.*lookup).rg - 1.;\\n        normalRocks2d *= -1.;\\n        vec3 normalRocks = normalize(vec3(normalRocks2d, 1. - length(normalRocks2d)));\\n        normalRocks = axisAngle(normalize(vec3(surfDir.y, -surfDir.x, 0)), sint*3.14159*surfDepth) * normalRocks;\\n\\n        vec3 baseColor = vec3(1,1,1) * ptLightAmount(v_worldPos.xy, normalRocks.xy);\\n        gl_FragColor = vec4(mix(baseColor, vec3(0), 1.-sqrt(surfDepth)), 1);\\n    }\\n\\n#endif\"","module.exports = \"precision highp float;\\n\\nuniform sampler2D u_depth;\\nuniform sampler2D u_normal;\\nuniform sampler2D u_normalRocks;\\nuniform float u_time;\\nuniform float u_zoom;\\nuniform vec2 u_pointLightPos;\\n\\nvarying vec2 v_uv;\\n\\n#ifdef VERTEX\\n\\n    attribute vec2 i_position;\\n\\n    void main()\\n    {\\n        vec2 pospos = i_position - (2.*u_pointLightPos-1.)*(1. - u_zoom);\\n        gl_Position = vec4(pospos, -u_zoom, 1);\\n        v_uv = i_position.xy*0.5 + 0.5;\\n    }\\n\\n#endif\\n#ifdef FRAGMENT\\n\\n    mat3 axisAngle(vec3 normalizedAxis, float angle)\\n    {\\n        float x = normalizedAxis.x;\\n        float y = normalizedAxis.y;\\n        float z = normalizedAxis.z;\\n        float s = sin(angle);\\n        float c = cos(angle);\\n        float t = 1. - c;\\n\\n        return mat3(\\n            t*x*x + c   , t*x*y - z*s , t*x*z + y*s ,\\n            t*x*y + z*s , t*y*y + c   , t*y*z - x*s ,\\n            t*x*z - y*s , t*y*z + x*s , t*z*z + c\\n        );\\n    }\\n\\n    float ptLightAmount(vec2 uv, vec2 normal)\\n    {\\n        vec2 toPtLight = uv - u_pointLightPos;\\n        float ptLightIntensity = 1.6 + .4 * sin(u_time/100.);\\n        float LightAmount = clamp(dot(normalize(toPtLight), normal), 0., 1.);\\n        float distToPtLight = 20. * length(toPtLight);\\n        LightAmount *= ptLightIntensity / max(1., distToPtLight * distToPtLight);\\n        return LightAmount;\\n    }\\n\\n    float dirLightAmount(vec2 dir, vec2 normal)\\n    {\\n        return clamp(dot(normalize(dir), normal), 0., 1.);\\n    }\\n\\n    void main()\\n    {\\n        float sint = 1.;//0.5+0.5*sin(u_time/500.);\\n\\n        vec2 surfDir = 2.*texture2D(u_normal, v_uv).rg - 1.;\\n        float surfDepth = clamp(1.- texture2D(u_depth, v_uv).r, 0., 1.);\\n        surfDepth *= surfDepth;\\n\\n        vec2 uv1 = v_uv - sint*surfDir*asin(surfDepth*0.05);\\n        vec2 lookup = uv1;\\n        lookup.x = 1. - lookup.x;\\n        lookup.y = 1. - lookup.y;\\n        vec2 normalRocks2d = 2.*texture2D(u_normalRocks, 5.*lookup).rg - 1.;\\n        normalRocks2d *= -1.;\\n        vec3 normalRocks = normalize(vec3(normalRocks2d, 1. - length(normalRocks2d)));\\n\\n        normalRocks = axisAngle(normalize(vec3(surfDir.y, -surfDir.x, 0)), sint*3.14159*surfDepth) * normalRocks;\\n\\n        vec3 baseColor = vec3(0,0,0);\\n\\n        // Point light\\n        baseColor += vec3(1,1,1) * ptLightAmount(v_uv, normalRocks.xy);\\n\\n        // Dir lights\\n        baseColor += vec3(1,.2,.1) * dirLightAmount(vec2(1,-.5), normalRocks.xy);\\n        baseColor += vec3(.2,1,.1) * dirLightAmount(vec2(0,1), normalRocks.xy);\\n        baseColor += vec3(.5,.5,1) * dirLightAmount(vec2(-1,-.5), normalRocks.xy);\\n\\n        gl_FragColor = mix(vec4(baseColor, 1), vec4(0,0,0,1), 1.-sqrt(surfDepth));\\n    }\\n\\n#endif\"","module.exports = \"precision highp float;\\n\\n#ifdef VERTEX\\n\\n    attribute vec2 i_position;\\n\\n    void main()\\n    {\\n        gl_Position = vec4(i_position, 0, 1);\\n    }\\n\\n#endif\\n#ifdef FRAGMENT\\n\\n    void main()\\n    {\\n        gl_FragColor = vec4(1, 1, 1, 1);\\n    }\\n\\n#endif\"","module.exports = \"precision highp float;\\n\\nuniform sampler2D u_tex;\\nuniform vec2 u_resolution;\\nuniform vec2 u_direction;\\n\\nvarying vec2 v_uv;\\n\\n#ifdef VERTEX\\n\\n    attribute vec2 i_position;\\n\\n    void main()\\n    {\\n        gl_Position = vec4(i_position, 0, 1);\\n        v_uv = i_position.xy*0.5 + 0.5;\\n    }\\n\\n#endif\\n#ifdef FRAGMENT\\n\\n    vec4 blur13(sampler2D image, vec2 uv, vec2 resolution, vec2 direction)\\n    {\\n        vec4 color = vec4(0.0);\\n        vec2 off1 = vec2(1.411764705882353) * direction;\\n        vec2 off2 = vec2(3.2941176470588234) * direction;\\n        vec2 off3 = vec2(5.176470588235294) * direction;\\n        color += texture2D(image, uv) * 0.1964825501511404;\\n        color += texture2D(image, uv + (off1 / resolution)) * 0.2969069646728344;\\n        color += texture2D(image, uv - (off1 / resolution)) * 0.2969069646728344;\\n        color += texture2D(image, uv + (off2 / resolution)) * 0.09447039785044732;\\n        color += texture2D(image, uv - (off2 / resolution)) * 0.09447039785044732;\\n        color += texture2D(image, uv + (off3 / resolution)) * 0.010381362401148057;\\n        color += texture2D(image, uv - (off3 / resolution)) * 0.010381362401148057;\\n        return color;\\n    }\\n\\n    void main()\\n    {\\n        gl_FragColor = blur13(u_tex, v_uv, u_resolution, u_direction);\\n    }\\n\\n#endif\"","module.exports = \"precision highp float;\\n\\nuniform sampler2D u_tex;\\nuniform vec2 u_resolution;\\n\\nvarying vec2 v_uv;\\n\\n#ifdef VERTEX\\n\\n    attribute vec2 i_position;\\n\\n    void main()\\n    {\\n        gl_Position = vec4(i_position, 0, 1);\\n        v_uv = i_position.xy*0.5 + 0.5;\\n    }\\n\\n#endif\\n#ifdef FRAGMENT\\n\\n    vec2 sampleTap(vec4 tap, vec2 dir)\\n    {\\n        dir /= u_resolution;\\n        vec4 outTap = texture2D(u_tex, v_uv + dir);\\n        return (outTap - tap).r * dir;\\n    }\\n\\n    void main()\\n    {\\n        vec4 tap = texture2D(u_tex, v_uv);\\n\\n        vec2 dir = normalize(\\n              sampleTap(tap, vec2( 1.5, 0.))\\n            + sampleTap(tap, vec2(-1.5, 0.))\\n            + sampleTap(tap, vec2(0., -1.5))\\n            + sampleTap(tap, vec2(0.,  1.5))\\n            + sampleTap(tap, vec2( 1.5,  1.5))\\n            + sampleTap(tap, vec2( 1.5, -1.5))\\n            + sampleTap(tap, vec2(-1.5, -1.5))\\n            + sampleTap(tap, vec2(-1.5,  1.5))\\n        );\\n\\n        gl_FragColor = vec4(dir*0.5+0.5, 1, 1);\\n    }\\n\\n#endif\"","module.exports = \"precision highp float;\\n\\nuniform mat4 u_mvp;\\n\\n#ifdef VERTEX\\n\\n    attribute vec2 i_position;\\n\\n    void main()\\n    {\\n        gl_Position = u_mvp * vec4(i_position, 0, 1);\\n    }\\n\\n#endif\\n#ifdef FRAGMENT\\n\\n    void main()\\n    {\\n        gl_FragColor = vec4(0.4, 0.4, 0.4, 1);\\n    }\\n\\n#endif\\n\"","import { FrameBufferTexture } from \"./frameBufferTexture\";\nimport { BufferRenderer } from \"./bufferRenderer\";\nimport { getShaders } from 'shaders';\n\nexport class GaussianBlur {\n    private readonly gl: WebGLRenderingContext;\n    private readonly width: number;\n    private readonly height: number;\n\n    private readonly bufferRenderer: BufferRenderer;\n    private readonly frameTex0: FrameBufferTexture;\n    private readonly frameTex1: FrameBufferTexture;\n\n    constructor(gl: WebGLRenderingContext, width: number, height: number) {\n        this.gl = gl;\n        this.width = width;\n        this.height = height;\n        this.bufferRenderer = new BufferRenderer(gl, getShaders(gl).gaussianBlur);\n        this.frameTex0 = new FrameBufferTexture(gl, width, height);\n        this.frameTex1 = new FrameBufferTexture(gl, width, height);\n    }\n\n    run(texture: WebGLTexture, iterations: number) {\n        const gl = this.gl;\n\n        if (iterations < 1) iterations = 1;\n\n        for (let i = 0; i < iterations; ++i) {\n            gl.bindFramebuffer(gl.FRAMEBUFFER, this.frameTex0.framebuffer);\n            if (i === 0) gl.viewport(0, 0, this.width, this.height);\n\n            this.bufferRenderer.draw(i === 0 ? texture : this.frameTex1.texture, (gl, shader) => {\n                gl.uniform2f(gl.getUniformLocation(shader, \"u_resolution\"), this.width, this.height);\n                gl.uniform2f(gl.getUniformLocation(shader, \"u_direction\"), 1, 0);\n            });\n\n            gl.bindFramebuffer(gl.FRAMEBUFFER, this.frameTex1.framebuffer);\n\n            this.bufferRenderer.draw(this.frameTex0.texture, (gl, shader) => {\n                gl.uniform2f(gl.getUniformLocation(shader, \"u_resolution\"), this.width, this.height);\n                gl.uniform2f(gl.getUniformLocation(shader, \"u_direction\"), 0, 1);\n            });\n        }\n    }\n\n    get resultTexture(): WebGLTexture {\n        return this.frameTex1.texture;\n    }\n\n    release() {\n        this.bufferRenderer.release();\n        this.frameTex0.release();\n        this.frameTex1.release();\n    }\n\n    releaseTexture(): WebGLTexture {\n        this.bufferRenderer.release();\n        this.frameTex0.release();\n        return this.frameTex1.releaseTexture();\n    }\n}","import { generateCave } from \"caveGenerator\";\nimport { CaveRenderer } from \"webgl/caveRenderer\";\nimport { loadTexture } from \"webgl/textureLoader\";\nimport { ShipRenderer } from \"webgl/shipRenderer\";\nimport { Camera } from \"webgl/camera\";\nimport { Transform } from \"webgl/transform\";\nimport { vec2, quat, vec3 } from \"gl-matrix\";\nimport { InputGrabber } from \"utils/inputGrabber\";\n\ninterface LazyResources {\n    readonly caveTexture: WebGLTexture;\n}\n\nconst loadResources = (gl: WebGLRenderingContext): Promise<LazyResources> =>\n    Promise.all([\n        loadTexture(gl, \"caveWalls.png\", gl.REPEAT)\n    ])\n    .then(([caveTexture]) => ({\n        caveTexture\n    }));\n\nconst v3a = vec3.create();\n\nexport const initGame = (): void => {\n    const canvas = document.getElementById('game-canvas') as HTMLCanvasElement;\n    const gl = canvas.getContext('webgl') as WebGLRenderingContext;\n\n    gl.clearColor(0, 0, 0, 1);\n\n    loadResources(gl).then(resources => {\n        const cave = generateCave(1338);\n        const inputs = new InputGrabber(canvas);\n        const caveRenderer = new CaveRenderer(gl, cave, resources.caveTexture);\n        const shipRenderer = new ShipRenderer(gl);\n        const camera = Camera.create();\n        const shipTransform = Transform.create();\n\n        camera.transform.position[2] = 5;\n\n        const update = () => {\n            gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n\n            const mouseWorldPos = Camera.screenPointToWorldXYPlanePoint(camera, inputs.mouseScreenPoint, v3a);\n            vec3.sub(v3a, mouseWorldPos, shipTransform.position);\n            quat.fromEuler(shipTransform.rotation, 0, 0, 180 / Math.PI * Math.atan2(v3a[1], v3a[0]));\n\n            caveRenderer.draw(camera, shipTransform.position);\n            shipRenderer.draw(camera, shipTransform);\n\n            requestAnimationFrame(update);\n        };\n\n        const onResize = () => {\n            gl.canvas.width = window.innerWidth;\n            gl.canvas.height = window.innerHeight;\n            gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\n            Camera.updateAspectRatio(camera, gl.canvas.width, gl.canvas.height);\n        };\n\n        window.addEventListener('resize', onResize);\n        onResize();\n        update();\n    });\n};","import { vec3, mat4, quat } from \"gl-matrix\";\nimport { getShaders } from \"shaders\";\nimport { Transform } from \"./transform\";\nimport { Camera } from \"./camera\";\n\nconst verts: ReadonlyArray<number> = [0.2492,0,0.1102,-0.0237,0.1333,-0.081,0.04749999,-0.0506,0.0031,-0.0564,-0.0337,-0.1155,-0.003200002,-0.1747,-0.09190001,-0.149,-0.1102,-0.084,-0.158,-0.0931,-0.158,-0.0332,-0.1347,0,-0.158,0.0332,-0.158,0.0931,-0.1102,0.084,-0.09190001,0.149,-0.003200002,0.1747,-0.0337,0.1155,0.0031,0.0564,0.04749999,0.0506,0.1333,0.081,0.1102,0.0237];\nconst tris:  ReadonlyArray<number> = [1,0,11,3,1,11,4,3,11,5,4,11,8,5,11,9,8,11,10,9,11,2,1,3,6,5,7,7,5,8,21,11,0,19,11,21,18,11,19,17,11,18,14,11,17,13,11,14,12,11,13,20,19,21,15,14,17,16,15,17];\n\nconst mxa = mat4.create();\nconst mxb = mat4.create();\n\nexport class ShipRenderer {\n    private readonly gl: WebGLRenderingContext;\n    private readonly vertexBuffer: WebGLBuffer;\n    private readonly indexBuffer: WebGLBuffer;\n\n    constructor(gl: WebGLRenderingContext) {\n        this.gl = gl;\n\n        this.vertexBuffer = gl.createBuffer() as WebGLBuffer;\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(verts), gl.STATIC_DRAW);\n\n        this.indexBuffer = gl.createBuffer() as WebGLBuffer;\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(tris), gl.STATIC_DRAW);\n    }\n\n    draw(camera: Camera, ship: Transform) {\n        const gl = this.gl;\n        const shader = getShaders(gl).ship;\n\n        gl.useProgram(shader);\n\n        Transform.toMatrix(ship, mxa);\n        Camera.getViewMatrix(camera, mxb);\n        mat4.mul(mxa, mxb, mxa);\n        Camera.getProjectionMatrix(camera, mxb);\n        mat4.mul(mxa, mxb, mxa);\n        gl.uniformMatrix4fv(gl.getUniformLocation(shader, 'u_mvp'), false, mxa);\n\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n        const posLoc = gl.getAttribLocation(shader, \"i_position\");\n        gl.enableVertexAttribArray(posLoc);\n        gl.vertexAttribPointer(posLoc, 2, gl.FLOAT, false, 0, 0);\n\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);\n        gl.drawElements(gl.TRIANGLES, tris.length, gl.UNSIGNED_SHORT, 0);\n    }\n}\n","import { Transform } from \"./transform\";\nimport { mat4, vec2, vec3, vec4 } from \"gl-matrix\";\n\nexport interface Camera {\n    transform: Transform;\n    aspectRatio: number;\n    fov: number;\n    near: number;\n    far: number;\n}\n\nconst mxa = mat4.create();\nconst v4a = vec4.create();\nconst v3a = vec3.create();\nconst v3b = vec3.create();\nconst v3c = vec3.create();\n\nexport const Camera = {\n    create: (): Camera => ({\n        transform: Transform.create(),\n        aspectRatio: 1,\n        fov: Math.PI / 2,\n        near: 0.01,\n        far: 100,\n    }),\n\n    getViewMatrix: (self: Readonly<Camera>, out: mat4): mat4 => {\n        Transform.toMatrix(self.transform, out);\n        return mat4.invert(out, out) as mat4;\n    },\n\n    getProjectionMatrix: (self: Readonly<Camera>, out: mat4): mat4 => {\n        return mat4.perspective(out, self.fov, self.aspectRatio, self.near, self.far);\n    },\n\n    updateAspectRatio: (self: Camera, screenWidth: number, screenHeight: number) => {\n        self.aspectRatio = screenWidth / screenHeight;\n    },\n\n    screenPointToWorldXYPlanePoint: (self: Readonly<Camera>, screenPoint: vec2, out: vec3): vec3 => {\n        vec4.set(v4a, 2 * screenPoint[0] - 1, 2 * screenPoint[1] - 1, -1, 1);\n\n        // v4a <- ray in view space \n        Camera.getProjectionMatrix(self, mxa);\n        mat4.invert(mxa, mxa);\n        vec4.transformMat4(v4a, v4a, mxa);\n        v4a[2] = -1;\n        v4a[3] =  0;\n\n        // v3a <- mouse ray in world space\n        Transform.toMatrix(self.transform, mxa);\n        vec4.transformMat4(v4a, v4a, mxa);\n        vec3.set(v3a, v4a[0], v4a[1], v4a[2]);\n\n        // v3b <- target plane normal\n        // v3c <- target plane intersect point\n        vec3.set(v3b, 0, 0, -1);\n        vec3.set(v3c, 0, 0,  0);\n\n        const t = (vec3.dot(v3b, v3c) - vec3.dot(v3b, self.transform.position)) / vec3.dot(v3b, v3a);\n        return vec3.scaleAndAdd(out, self.transform.position, v3a, t);\n    }\n};\n","import { vec2 } from \"gl-matrix\";\n\nexport class InputGrabber {\n    private readonly canvas: HTMLCanvasElement;\n    readonly mouseScreenPoint: vec2;\n    private _mouseDown: boolean;\n    private canvasBoundingRect: ClientRect | DOMRect;\n\n    constructor(canvas: HTMLCanvasElement) {\n        this.canvas = canvas;\n        this._mouseDown = false;\n        this.mouseScreenPoint = vec2.create();\n\n        canvas.addEventListener('mousemove',  this.onMouseMove.bind(this));\n        canvas.addEventListener('mousedown',  this.onMouseDown.bind(this));\n        canvas.addEventListener('mouseup',    this.onMouseButtonNegative.bind(this));\n        canvas.addEventListener('mouseout',   this.onMouseButtonNegative.bind(this));\n        canvas.addEventListener('mouseleave', this.onMouseButtonNegative.bind(this));\n\n        window.addEventListener('scroll', this.onWindowChange.bind(this));\n        window.addEventListener('resize', this.onWindowChange.bind(this));\n\n        this.onWindowChange();\n    }\n\n    get mouseDown(): boolean {\n        return this._mouseDown;\n    }\n\n    private onMouseDown() {\n        this._mouseDown = true;\n    }\n\n    private onMouseButtonNegative() {\n        this._mouseDown = false;\n    }\n\n    private onWindowChange() {\n        this.canvasBoundingRect = this.canvas.getBoundingClientRect();\n    }\n\n    private onMouseMove(e: MouseEvent) {\n        this.mouseScreenPoint[0] = (e.clientX - this.canvasBoundingRect.left) / this.canvas.width;\n        this.mouseScreenPoint[1] = 1 - (e.clientY - this.canvasBoundingRect.top)  / this.canvas.height;\n    }\n}"],"sourceRoot":""}