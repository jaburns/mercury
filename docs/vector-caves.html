<!DOCTYPE html>
<html>
    <head>
        <title>jaburns.net - Vector Caves</title>
        <link rel="stylesheet" type="text/css" href="style.css" />
        <style>
            .canvas-holder {
                text-align: center;
            }
            canvas {
                display: inline-block;
                border: 10px solid #29211c;
                background-color: white;
            }
            input { 
                margin: auto;
                display: block;
                width: 300px;
            }
        </style>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <main class="contents">
            <div class="title">Generating vector caves from cellular automata</div>

            <p>Let's make a little shooter game in a procedurally generated cave. 
            We'll start off by using a 2D cellular automaton to generate a cave shape.
            <a href="https://blog.jrheard.com/procedural-dungeon-generation-cellular-automata" >
            This blog post does a great job of describing the technique.</a> 
            </p>

            <div class="canvas-holder">
                <canvas id="first-canvas" width="300" height="300"></canvas>
            </div>

            <p><input id="seed-slider" type="range" min="0" max="100" step="1" value="50"></p>
            <p><input id="pop-slider" type="range" min="0" max="1" step="0.01" value="0.48"></p>
            <p><input id="gen-slider" type="range" min="0" max="50" step="1" value="10"></p>

            <p>This technique does a good job of generating dungeon-like shapes, but 
            it often leaves us with inaccessible rooms. Since we don't want the players
            to be able spawn in tiny isolated chambers, let's color all the contiguous
            chambers and fill in all but the largest one with dirt.
            </p>

            <div class="canvas-holder">
                <canvas id="second-canvas" width="300" height="300"></canvas>
                <canvas id="third-canvas" width="300" height="300"></canvas>
            </div>

            <p>
            Now that we can safely throw the player in to any white region, and they will
            be able to navigate to anywhere else on the map, the next step is to turn this
            blocky world in to something smooth. First let's mark off every dirt tile that 
            has air in its von Neumann neighborhood. While we're at it, we can assign each
            of these surface tiles a 2D normal direction by looking at <i>which</i> tiles
            exactly are the ones with air.
            </p>

            <div class="canvas-holder">
                <canvas id="fourth-canvas" width="300" height="300"></canvas>
            </div>

            <br /> <br /> <br /> <br /> <br /> <br />
            <p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean viverra risus feugiat lacus interdum consequat. Duis consequat, lorem nec efficitur fringilla, ante sapien iaculis massa, sed luctus est odio vel urna. In lacinia lobortis velit, sit amet pharetra quam dictum quis. Quisque at purus tincidunt, aliquet metus vel, sodales mi. Curabitur mattis egestas eros, sed iaculis mi. Vestibulum et elementum lectus, maximus consectetur libero. Fusce mollis congue libero eu sagittis. Mauris vitae tempor augue. In sit amet elit rhoncus, sollicitudin eros ut, fringilla quam. Proin quis nisl in leo elementum porttitor et nec diam. Fusce mollis velit enim. </p>
            <p> Proin non nulla eu quam volutpat ultrices sit amet eget nunc. Suspendisse venenatis aliquet lorem, eget feugiat felis rutrum vitae. Ut semper ante sit amet lacinia consectetur. Phasellus lobortis ante vitae metus finibus commodo. Maecenas sed fringilla ex. Morbi at mi sed orci fringilla condimentum. Duis in quam et turpis aliquet pharetra id quis velit. Integer placerat purus eget gravida rutrum. Aliquam tristique nisi vel quam vestibulum ullamcorper. Proin consectetur eget lacus quis imperdiet. Nullam facilisis porta felis vitae vehicula. Mauris at leo vitae nunc faucibus volutpat sit amet ut est. Phasellus nisl ipsum, iaculis nec gravida suscipit, tincidunt a nisl. </p>
            <p> Mauris a mattis nunc. Phasellus lacinia, turpis sit amet ornare pretium, nisi tortor dictum eros, a placerat nisl ante pellentesque leo. Vestibulum quis lectus pharetra, venenatis turpis vel, euismod augue. Nullam sagittis bibendum eros sit amet lacinia. Phasellus vulputate massa non ligula dapibus, vel interdum nisl suscipit. Sed feugiat ante tellus, non sollicitudin ligula ultrices vel. Interdum et malesuada fames ac ante ipsum primis in faucibus. Ut elementum pharetra leo at pellentesque. Aliquam ac tempus augue, vitae tempor est. Etiam iaculis, dui in tempus elementum, ipsum mi sagittis justo, et aliquet dolor est sed enim. Donec vel vulputate libero, non vehicula velit. Mauris tincidunt est vitae dolor consectetur, eget malesuada leo mollis. Sed sit amet sapien et metus facilisis porta at non mauris. Etiam at odio sit amet nisl viverra pharetra. </p>
            <p> Quisque et eleifend purus. Fusce pretium sapien id ante malesuada, nec dapibus sem faucibus. Pellentesque nec aliquet justo, quis tempor arcu. Sed ullamcorper scelerisque enim at feugiat. Vestibulum varius nunc in ante mollis blandit. Maecenas accumsan id libero ut laoreet. Quisque rutrum orci a suscipit eleifend. </p>
            <p> Ut at leo ac turpis vehicula auctor. Curabitur tempor sed est lobortis finibus. Nullam nibh odio, dictum nec lacinia non, molestie a turpis. Praesent et arcu a mi pretium scelerisque at aliquam dui. Curabitur non urna nulla. Duis venenatis, nisi sed gravida condimentum, mauris neque elementum eros, et malesuada urna sapien sit amet eros. Aliquam eget dolor et neque dictum mollis. Fusce rhoncus sem quam, in dictum ante convallis eget. </p>

            <p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean viverra risus feugiat lacus interdum consequat. Duis consequat, lorem nec efficitur fringilla, ante sapien iaculis massa, sed luctus est odio vel urna. In lacinia lobortis velit, sit amet pharetra quam dictum quis. Quisque at purus tincidunt, aliquet metus vel, sodales mi. Curabitur mattis egestas eros, sed iaculis mi. Vestibulum et elementum lectus, maximus consectetur libero. Fusce mollis congue libero eu sagittis. Mauris vitae tempor augue. In sit amet elit rhoncus, sollicitudin eros ut, fringilla quam. Proin quis nisl in leo elementum porttitor et nec diam. Fusce mollis velit enim. </p>
            <p> Proin non nulla eu quam volutpat ultrices sit amet eget nunc. Suspendisse venenatis aliquet lorem, eget feugiat felis rutrum vitae. Ut semper ante sit amet lacinia consectetur. Phasellus lobortis ante vitae metus finibus commodo. Maecenas sed fringilla ex. Morbi at mi sed orci fringilla condimentum. Duis in quam et turpis aliquet pharetra id quis velit. Integer placerat purus eget gravida rutrum. Aliquam tristique nisi vel quam vestibulum ullamcorper. Proin consectetur eget lacus quis imperdiet. Nullam facilisis porta felis vitae vehicula. Mauris at leo vitae nunc faucibus volutpat sit amet ut est. Phasellus nisl ipsum, iaculis nec gravida suscipit, tincidunt a nisl. </p>
            <p> Mauris a mattis nunc. Phasellus lacinia, turpis sit amet ornare pretium, nisi tortor dictum eros, a placerat nisl ante pellentesque leo. Vestibulum quis lectus pharetra, venenatis turpis vel, euismod augue. Nullam sagittis bibendum eros sit amet lacinia. Phasellus vulputate massa non ligula dapibus, vel interdum nisl suscipit. Sed feugiat ante tellus, non sollicitudin ligula ultrices vel. Interdum et malesuada fames ac ante ipsum primis in faucibus. Ut elementum pharetra leo at pellentesque. Aliquam ac tempus augue, vitae tempor est. Etiam iaculis, dui in tempus elementum, ipsum mi sagittis justo, et aliquet dolor est sed enim. Donec vel vulputate libero, non vehicula velit. Mauris tincidunt est vitae dolor consectetur, eget malesuada leo mollis. Sed sit amet sapien et metus facilisis porta at non mauris. Etiam at odio sit amet nisl viverra pharetra. </p>
            <p> Quisque et eleifend purus. Fusce pretium sapien id ante malesuada, nec dapibus sem faucibus. Pellentesque nec aliquet justo, quis tempor arcu. Sed ullamcorper scelerisque enim at feugiat. Vestibulum varius nunc in ante mollis blandit. Maecenas accumsan id libero ut laoreet. Quisque rutrum orci a suscipit eleifend. </p>
            <p> Ut at leo ac turpis vehicula auctor. Curabitur tempor sed est lobortis finibus. Nullam nibh odio, dictum nec lacinia non, molestie a turpis. Praesent et arcu a mi pretium scelerisque at aliquam dui. Curabitur non urna nulla. Duis venenatis, nisi sed gravida condimentum, mauris neque elementum eros, et malesuada urna sapien sit amet eros. Aliquam eget dolor et neque dictum mollis. Fusce rhoncus sem quam, in dictum ante convallis eget. </p>
        </main>
    </body>
    <script type="text/javascript" src="bundle.js"></script>
    <script type="text/javascript"> initPost('vector-caves'); </script>
</html>
